!function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)},fire:function(t,n,i){var a=e.Event(n);return t.trigger(a,i),a.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var a,r,o,s,l,d,c,u;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===t?null:s,d=i.data("with-credentials")||null,c=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){a=i.attr("method"),r=i.attr("action"),o=i.serializeArray();var p=i.data("ujs:submit-button");p&&(o.push(p),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(a=i.data("method"),r=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(a=i.data("method")||"get",r=i.data("url"),o=i.serialize(),i.data("params")&&(o=o+"&"+i.data("params"))):(a=i.data("method"),r=n.href(i),o=i.data("params")||null);u={type:a||"GET",data:o,dataType:c,beforeSend:function(e,a){return a.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+a.accepts.script),n.fire(i,"ajax:beforeSend",[e,a])},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},d&&(u.xhrFields={withCredentials:d}),r&&(u.url=r);var h=n.ajax(u);return i.trigger("ajax:send",h),h}return!1},handleMethod:function(i){var a=n.href(i),r=i.data("method"),o=i.attr("target"),s=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),d=e('<form method="post" action="'+a+'"></form>'),c='<input name="_method" value="'+r+'" type="hidden" />';l!==t&&s!==t&&(c+='<input name="'+l+'" value="'+s+'" type="hidden" />'),o&&d.attr("target",o),d.hide().append(c).appendTo("body"),d.submit()},disableFormElements:function(t){t.find(n.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(n.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t,i=e.data("confirm"),a=!1;return i?(n.fire(e,"confirm")&&(a=n.confirm(i),t=n.fire(e,"confirm:complete",[a])),a&&t):!0},blankInputs:function(t,n,i){var a,r,o=e(),s=n||"input,textarea",l=t.find(s);return l.each(function(){if(a=e(this),r=a.is("input[type=checkbox],input[type=radio]")?a.is(":checked"):a.val(),!r==!i){if(a.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+a.attr("name")+'"]').length)return!0;o=o.add(a)}}),o.length?o:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var a=e(this),r=a.data("method"),o=a.data("params"),s=i.metaKey||i.ctrlKey;if(!n.allowAction(a))return n.stopEverything(i);if(!s&&a.is(n.linkDisableSelector)&&n.disableElement(a),a.data("remote")!==t){if(s&&(!r||"GET"===r)&&!o)return!0;var l=n.handleRemote(a);return l===!1?n.enableElement(a):l.error(function(){n.enableElement(a)}),!1}return a.data("method")?(n.handleMethod(a),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var a=e(this),r=a.data("remote")!==t,o=n.blankInputs(a,n.requiredInputSelector),s=n.nonBlankInputs(a,n.fileInputSelector);if(!n.allowAction(a))return n.stopEverything(i);if(o&&a.attr("novalidate")==t&&n.fire(a,"ajax:aborted:required",[o]))return n.stopEverything(i);if(r){if(s){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[s]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var a=i.attr("name"),r=a?{name:a,value:i.val()}:null;i.closest("form").data("ujs:submit-button",r)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(e){"use strict";e.ajaxPrefilter(function(e){return e.iframe?"iframe":void 0}),e.ajaxTransport("iframe",function(t,n,i){function a(){c.prop("disabled",!1),o.remove(),s.bind("load",function(){s.remove()}),s.attr("src","javascript:false;")}var r,o=null,s=null,l="iframe-"+e.now(),d=e(t.files).filter(":file:enabled"),c=null;return t.dataTypes.shift(),d.length?(o=e("<form enctype='multipart/form-data' method='post'></form>").hide().attr({action:t.url,target:l}),"string"==typeof t.data&&t.data.length>0&&e.error("data must not be serialized"),e.each(t.data||{},function(t,n){e.isPlainObject(n)&&(t=n.name,n=n.value),e("<input type='hidden' />").attr({name:t,value:n}).appendTo(o)}),e("<input type='hidden' value='IFrame' name='X-Requested-With' />").appendTo(o),r=t.dataTypes[0]&&t.accepts[t.dataTypes[0]]?t.accepts[t.dataTypes[0]]+("*"!==t.dataTypes[0]?", */*; q=0.01":""):t.accepts["*"],e("<input type='hidden' name='X-Http-Accept'>").attr("value",r).appendTo(o),c=d.after(function(){return e(this).clone().prop("disabled",!0)}).next(),d.appendTo(o),{send:function(t,n){s=e("<iframe src='javascript:false;' name='"+l+"' id='"+l+"' style='display:none'></iframe>"),s.bind("load",function(){s.unbind("load").bind("load",function(){var e=this.contentWindow?this.contentWindow.document:this.contentDocument?this.contentDocument:this.document,t=e.documentElement?e.documentElement:e.body,r=t.getElementsByTagName("textarea")[0],o=r&&r.getAttribute("data-type")||null,s=r&&r.getAttribute("data-status")||200,l=r&&r.getAttribute("data-statusText")||"OK",d={html:t.innerHTML,text:o?r.value:t?t.textContent||t.innerText:null};a(),i.responseText||(i.responseText=d.text),n(s,l,d,o?"Content-Type: "+o:null)}),o[0].submit()}),e("body").append(o,s)},abort:function(){null!==s&&(s.unbind("load").attr("src","javascript:false;"),a())}}):void 0})}(jQuery),function(e){var t;e.remotipart=t={setup:function(n){var i=n.data("ujs:submit-button"),a=e('meta[name="csrf-param"]').attr("content"),r=e('meta[name="csrf-token"]').attr("content"),o=n.find('input[name="'+a+'"]').length;n.one("ajax:beforeSend.remotipart",function(s,l,d){return delete d.beforeSend,d.iframe=!0,d.files=e(e.rails.fileInputSelector,n),d.data=n.serializeArray(),i&&d.data.push(i),d.files.each(function(e,t){for(var n=d.data.length-1;n>=0;n--)d.data[n].name==t.name&&d.data.splice(n,1)}),d.processData=!1,void 0===d.dataType&&(d.dataType="script *"),d.data.push({name:"remotipart_submitted",value:!0}),r&&a&&!o&&d.data.push({name:a,value:r}),e.rails.fire(n,"ajax:remotipartSubmit",[l,d])&&(e.rails.ajax(d),setTimeout(function(){e.rails.disableFormElements(n)},20)),t.teardown(n),!1}).data("remotipartSubmitted",!0)},teardown:function(e){e.unbind("ajax:beforeSend.remotipart").removeData("remotipartSubmitted")}},e(document).on("ajax:aborted:file","form",function(){var n=e(this);return t.setup(n),e.rails.handleRemote(n),!1})}(jQuery),$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-xs-6'l><'col-xs-6'f>r>t<'row'<'col-xs-6'i><'col-xs-6'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_ records per page"}}),$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper form-inline",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm"}),$.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:-1===e._iDisplayLength?0:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:-1===e._iDisplayLength?0:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(e,t,n){var i=e.oLanguage.oPaginate,a=function(t){t.preventDefault(),e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).append('<ul class="pagination"><li class="prev disabled"><a href="#">&larr; '+i.sPrevious+'</a></li><li class="next disabled"><a href="#">'+i.sNext+" &rarr; </a></li></ul>");var r=$("a",t);$(r[0]).bind("click.DT",{action:"previous"},a),$(r[1]).bind("click.DT",{action:"next"},a)},fnUpdate:function(e,t){var n,i,a,r,o,s,l=5,d=e.oInstance.fnPagingInfo(),c=e.aanFeatures.p,u=Math.floor(l/2);for(d.iTotalPages<l?(o=1,s=d.iTotalPages):d.iPage<=u?(o=1,s=l):d.iPage>=d.iTotalPages-u?(o=d.iTotalPages-l+1,s=d.iTotalPages):(o=d.iPage-u+1,s=o+l-1),n=0,i=c.length;i>n;n++){for($("li:gt(0)",c[n]).filter(":not(:last)").remove(),a=o;s>=a;a++)r=a==d.iPage+1?'class="active"':"",$("<li "+r+'><a href="#">'+a+"</a></li>").insertBefore($("li:last",c[n])[0]).bind("click",function(n){n.preventDefault(),e._iDisplayStart=(parseInt($("a",this).text(),10)-1)*d.iLength,t(e)});0===d.iPage?$("li:first",c[n]).addClass("disabled"):$("li:first",c[n]).removeClass("disabled"),d.iPage===d.iTotalPages-1||0===d.iTotalPages?$("li:last",c[n]).addClass("disabled"):$("li:last",c[n]).removeClass("disabled")}}}}),$.fn.DataTable.TableTools&&($.extend(!0,$.fn.DataTable.TableTools.classes,{container:"DTTT btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"disabled"}},print:{info:"DTTT_print_info modal"},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})),function(e){var t=0,n=function(){return(new Date).getTime()+t++},i=function(e){return"["+e+"]$1"},a=function(e){return"_"+e+"_$1"};e(document).on("click",".add_fields",function(t){t.preventDefault();var r=e(this),o=r.data("association"),s=r.data("associations"),l=r.data("association-insertion-template"),d=r.data("association-insertion-method")||r.data("association-insertion-position")||"before",c=r.data("association-insertion-node"),u=r.data("association-insertion-traversal"),p=parseInt(r.data("count"),10),h=new RegExp("\\[new_"+o+"\\](.*?\\s)","g"),m=new RegExp("_new_"+o+"_(\\w*)","g"),f=n(),g=l.replace(h,i(f)),v=[];for(g==l&&(h=new RegExp("\\[new_"+s+"\\](.*?\\s)","g"),m=new RegExp("_new_"+s+"_(\\w*)","g"),g=l.replace(h,i(f))),g=g.replace(m,a(f)),v=[g],p=isNaN(p)?1:Math.max(p,1),p-=1;p;)f=n(),g=l.replace(h,i(f)),g=g.replace(m,a(f)),v.push(g),p-=1;c=c?u?r[u](c):"this"==c?r:e(c):r.parent();for(var b in v){var y=e(v[b]);c.trigger("cocoon:before-insert",[y]);{c[d](y)}c.trigger("cocoon:after-insert",[y])}}),e(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(t){var n=e(this),i=n.data("wrapper-class")||"nested-fields",a=n.closest("."+i),r=a.parent();t.preventDefault(),r.trigger("cocoon:before-remove",[a]);var o=r.data("remove-timeout")||0;setTimeout(function(){n.hasClass("dynamic")?a.remove():(n.prev("input[type=hidden]").val("1"),a.hide()),r.trigger("cocoon:after-remove",[a])},o)}),e(".remove_fields.existing.destroyed").each(function(){var t=e(this),n=t.data("wrapper-class")||"nested-fields";t.closest("."+n).hide()})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(){var t=n(this),o=r.settings;return isNaN(t.datetime)||(0==o.cutoff||a(t.datetime)<o.cutoff)&&e(this).text(i(t.datetime)),this}function n(t){if(t=e(t),!t.data("timeago")){t.data("timeago",{datetime:r.datetime(t)});var n=e.trim(t.text());r.settings.localeTitle?t.attr("title",t.data("timeago").datetime.toLocaleString()):!(n.length>0)||r.isTime(t)&&t.attr("title")||t.attr("title",n)}return t.data("timeago")}function i(e){return r.inWords(a(e))}function a(e){return(new Date).getTime()-e.getTime()}e.timeago=function(t){return t instanceof Date?i(t):"string"==typeof t?i(e.timeago.parse(t)):"number"==typeof t?i(new Date(t)):i(e.timeago.datetime(t))};var r=e.timeago;e.extend(e.timeago,{settings:{refreshMillis:6e4,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(t){function n(n,a){var r=e.isFunction(n)?n(a,t):n,o=i.numbers&&i.numbers[a]||a;return r.replace(/%d/i,o)}if(!this.settings.allowPast&&!this.settings.allowFuture)throw"timeago allowPast and allowFuture settings can not both be set to false.";var i=this.settings.strings,a=i.prefixAgo,r=i.suffixAgo;if(this.settings.allowFuture&&0>t&&(a=i.prefixFromNow,r=i.suffixFromNow),!this.settings.allowPast&&t>=0)return this.settings.strings.inPast;var o=Math.abs(t)/1e3,s=o/60,l=s/60,d=l/24,c=d/365,u=45>o&&n(i.seconds,Math.round(o))||90>o&&n(i.minute,1)||45>s&&n(i.minutes,Math.round(s))||90>s&&n(i.hour,1)||24>l&&n(i.hours,Math.round(l))||42>l&&n(i.day,1)||30>d&&n(i.days,Math.round(d))||45>d&&n(i.month,1)||365>d&&n(i.months,Math.round(d/30))||1.5>c&&n(i.year,1)||n(i.years,Math.round(c)),p=i.wordSeparator||"";return void 0===i.wordSeparator&&(p=" "),e.trim([a,u,r].join(p))},parse:function(t){var n=e.trim(t);return n=n.replace(/\.\d+/,""),n=n.replace(/-/,"/").replace(/-/,"/"),n=n.replace(/T/," ").replace(/Z/," UTC"),n=n.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),n=n.replace(/([\+\-]\d\d)$/," $100"),new Date(n)},datetime:function(t){var n=r.isTime(t)?e(t).attr("datetime"):e(t).attr("title");return r.parse(n)},isTime:function(t){return"time"===e(t).get(0).tagName.toLowerCase()}});var o={init:function(){var n=e.proxy(t,this);n();var i=r.settings;i.refreshMillis>0&&(this._timeagoInterval=setInterval(n,i.refreshMillis))},update:function(n){var i=r.parse(n);e(this).data("timeago",{datetime:i}),r.settings.localeTitle&&e(this).attr("title",i.toLocaleString()),t.apply(this)},updateFromDOM:function(){e(this).data("timeago",{datetime:r.parse(r.isTime(this)?e(this).attr("datetime"):e(this).attr("title"))}),t.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};e.fn.timeago=function(e,t){var n=e?o[e]:o.init;if(!n)throw new Error("Unknown function name '"+e+"' for timeago");return this.each(function(){n.call(this,t)}),this},document.createElement("abbr"),document.createElement("time")});var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function e(e){return e}function t(){return!1}function n(){}function i(){}n.prototype={chain:function(t,n){var i=this[t];if(!i)throw new Error("unknown hook "+t);this[t]=i===e?n:function(){var e=Array.prototype.slice.call(arguments,0);return e[0]=i.apply(null,e),n.apply(null,e)}},set:function(e,t){if(!this[e])throw new Error("unknown hook "+e);this[e]=t},addNoop:function(t){this[t]=e},addFalse:function(e){this[e]=t}},Markdown.HookCollection=n,i.prototype={set:function(e,t){this["s_"+e]=t},get:function(e){return this["s_"+e]}},Markdown.Converter=function(){function e(e){return e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(e,t,n,i,a,r){return t=t.toLowerCase(),L.set(t,$(n)),a?i:(r&&N.set(t,r.replace(/"/g,"&quot;")),"")})}function t(e){return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,a),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,a),e=e.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,a),e=e.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,a),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,a)}function a(e,t){var n=t;return n=n.replace(/^\n+/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(j.push(n)-1)+"K\n\n"}function r(e,n){e=F.preBlockGamut(e,q),e=h(e);var i="<hr />\n";return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,i),e=e.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,i),e=e.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,i),e=m(e),e=g(e),e=x(e),e=F.postBlockGamut(e,q),e=t(e),e=k(e,n)}function o(e){return e=F.preSpanGamut(e),e=b(e),e=s(e),e=_(e),e=c(e),e=l(e),e=C(e),e=e.replace(/~P/g,"://"),e=$(e),e=w(e),e=e.replace(/  +\n/g," <br>\n"),e=F.postSpanGamut(e)}function s(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=A(t,"!"==e.charAt(1)?"\\`*_/":"\\`*_")})}function l(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,d),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,d),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,d)}function d(e,t,n,i,a,r,o,s){void 0==s&&(s="");var l=t,d=n.replace(/:\/\//g,"~P"),c=i.toLowerCase(),p=a,h=s;if(""==p)if(""==c&&(c=d.toLowerCase().replace(/ ?\n/g," ")),p="#"+c,void 0!=L.get(c))p=L.get(c),void 0!=N.get(c)&&(h=N.get(c));else{if(!(l.search(/\(\s*\)$/m)>-1))return l;p=""}p=P(p),p=A(p,"*_");var m='<a href="'+p+'"';return""!=h&&(h=u(h),h=A(h,"*_"),m+=' title="'+h+'"'),m+=">"+d+"</a>"}function c(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p)}function u(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function p(e,t,n,i,a,r,o,s){var l=t,d=n,c=i.toLowerCase(),p=a,h=s;if(h||(h=""),""==p){if(""==c&&(c=d.toLowerCase().replace(/ ?\n/g," ")),p="#"+c,void 0==L.get(c))return l;p=L.get(c),void 0!=N.get(c)&&(h=N.get(c))}d=A(u(d),"*_[]()"),p=A(p,"*_");var m='<img src="'+p+'" alt="'+d+'"';return h=u(h),h=A(h,"*_"),m+=' title="'+h+'"',m+=" />"}function h(e){return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,t){return"<h1>"+o(t)+"</h1>\n\n"}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,t){return"<h2>"+o(t)+"</h2>\n\n"}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,t,n){var i=t.length;return"<h"+i+">"+o(n)+"</h"+i+">\n\n"})}function m(e,t){e+="~0";var n=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return O?e=e.replace(n,function(e,n,i){var a=n,r=i.search(/[*+-]/g)>-1?"ul":"ol",o=f(a,r,t);return o=o.replace(/\s+$/,""),o="<"+r+">"+o+"</"+r+">\n"}):(n=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(n,function(e,t,n,i){var a=t,r=n,o=i.search(/[*+-]/g)>-1?"ul":"ol",s=f(r,o);return s=a+"<"+o+">\n"+s+"</"+o+">\n"})),e=e.replace(/~0/,"")}function f(e,t,n){O++,e=e.replace(/\n{2,}$/,"\n"),e+="~0";var i=B[t],a=new RegExp("(^[ \\t]*)("+i+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+i+")[ \\t]+))","gm"),s=!1;return e=e.replace(a,function(e,t,i,a){var l=a,d=/\n\n$/.test(l),c=d||l.search(/\n{2,}/)>-1;return c||s?l=r(E(l),!0):(l=m(E(l),!0),l=l.replace(/\n$/,""),n||(l=o(l))),s=d,"<li>"+l+"</li>\n"}),e=e.replace(/~0/g,""),O--,e}function g(e){return e+="~0",e=e.replace(/(?:\n\n|^\n?)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var i=t,a=n;return i=y(E(i)),i=I(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code>"+i+"\n</code></pre>","\n\n"+i+"\n\n"+a}),e=e.replace(/~0/,"")}function v(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(j.push(e)-1)+"K\n\n"}function b(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,i){var a=i;return a=a.replace(/^([ \t]*)/g,""),a=a.replace(/[ \t]*$/g,""),a=y(a),a=a.replace(/:\/\//g,"~P"),t+"<code>"+a+"</code>"})}function y(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=A(e,"*_{}[]\\",!1)}function w(e){return e=e.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),e=e.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function x(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=r(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),v("<blockquote>\n"+n+"\n</blockquote>")})}function k(e,t){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var n=e.split(/\n{2,}/g),i=[],a=/~K(\d+)K/,r=n.length,s=0;r>s;s++){var l=n[s];a.test(l)?i.push(l):/\S/.test(l)&&(l=o(l),l=l.replace(/^([ \t]*)/g,"<p>"),l+="</p>",i.push(l))}if(!t){r=i.length;for(var s=0;r>s;s++)for(var d=!0;d;)d=!1,i[s]=i[s].replace(/~K(\d+)K/g,function(e,t){return d=!0,j[t]})}return i.join("\n\n")}function $(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function _(e){return e=e.replace(/\\(\\)/g,D),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,D)}function T(e,t,n,i){if(t)return e;if(")"!==i.charAt(i.length-1))return"<"+n+i+">";for(var a=i.match(/[()]/g),r=0,o=0;o<a.length;o++)"("===a[o]?0>=r?r=1:r++:r--;var s="";if(0>r){var l=new RegExp("\\){1,"+-r+"}$");i=i.replace(l,function(e){return s=e,""})}if(s){var d=i.charAt(i.length-1);V.test(d)||(s=d+s,i=i.substr(0,i.length-1))}return"<"+n+i+">"+s}function C(e){e=e.replace(H,T);var t=function(e,t){return'<a href="'+t+'">'+F.plainLinkText(t)+"</a>"};return e=e.replace(/<((https?|ftp):[^'">\s]+)>/gi,t)}function S(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}function E(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")}function I(e){if(!/\t/.test(e))return e;var t,n=["    ","   ","  "," "],i=0;return e.replace(/[\n\t]/g,function(e,a){return"\n"===e?(i=a+1,e):(t=(a-i)%4,i=a+1,n[t])})}function P(e){if(!e)return"";var t=e.length;return e.replace(z,function(n,i){return"~D"==n?"%24":":"!=n||i!=t-1&&!/[0-9\/]/.test(e.charAt(i+1))?"%"+n.charCodeAt(0).toString(16):":"})}function A(e,t,n){var i="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var a=new RegExp(i,"g");return e=e.replace(a,D)}function D(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}var F=this.hooks=new n;F.addNoop("plainLinkText"),F.addNoop("preConversion"),F.addNoop("postNormalization"),F.addNoop("preBlockGamut"),F.addNoop("postBlockGamut"),F.addNoop("preSpanGamut"),F.addNoop("postSpanGamut"),F.addNoop("postConversion");var L,N,j,O;this.makeHtml=function(n){if(L)throw new Error("Recursive call to converter.makeHtml");return L=new i,N=new i,j=[],O=0,n=F.preConversion(n),n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=I(n),n=n.replace(/^[ \t]+$/gm,""),n=F.postNormalization(n),n=t(n),n=e(n),n=r(n),n=S(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~"),n=F.postConversion(n),j=N=L=null,n};var q=function(e){return r(e)},B={ol:"\\d+[.]",ul:"[*+-]"},R="[-A-Z0-9+&@#/%?=~_|[\\]()!:,.;]",M="[-A-Z0-9+&@#/%=~_|[\\])]",H=new RegExp('(="|<)?\\b(https?|ftp)(://'+R+"*"+M+")(?=$|\\W)","gi"),V=new RegExp(M,"i"),z=/(?:["'*()[\]:]|~D)/g}}(),function(){function e(e){return e.replace(/<[^>]*>?/gi,t)}function t(e){return e.match(r)||e.match(o)||e.match(s)?e:""}function n(e){if(""==e)return"";var t=/<\/?\w+[^>]*(\s|$|>)/g,n=e.toLowerCase().match(t),i=(n||[]).length;if(0==i)return e;for(var a,r,o,s="<p><img><br><li><hr>",l=[],d=[],c=!1,u=0;i>u;u++)if(a=n[u].replace(/<\/?(\w+).*/,"$1"),!(l[u]||s.search("<"+a+">")>-1)){if(r=n[u],o=-1,!/^<\//.test(r))for(var p=u+1;i>p;p++)if(!l[p]&&n[p]=="</"+a+">"){o=p;break}-1==o?c=d[u]=!0:l[o]=!0}if(!c)return e;var u=0;return e=e.replace(t,function(e){var t=d[u]?"":e;return u++,t})}var i,a;"object"==typeof exports&&"function"==typeof require?(i=exports,a=require("./Markdown.Converter").Converter):(i=window.Markdown,a=i.Converter),i.getSanitizingConverter=function(){var t=new a;return t.hooks.chain("postConversion",e),t.hooks.chain("postConversion",n),t};var r=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,o=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,s=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}(),function(){function e(){}function t(e){this.buttonBar=u.getElementById("wmd-button-bar"+e),this.preview=u.getElementById("wmd-preview"+e),this.input=u.getElementById("wmd-input"+e)}function n(e,t){var n,a,r,o=this,s=[],d=0,c="none",u=function(e,t){c!=e&&(c=e,t||h()),f.isIE&&"moving"==c?r=null:a=setTimeout(p,1)},p=function(e){r=new i(t,e),a=void 0};this.setCommandMode=function(){c="command",h(),a=setTimeout(p,0)},this.canUndo=function(){return d>1},this.canRedo=function(){return s[d+1]?!0:!1},this.undo=function(){o.canUndo()&&(n?(n.restore(),n=null):(s[d]=new i(t),s[--d].restore(),e&&e())),c="none",t.input.focus(),p()},this.redo=function(){o.canRedo()&&(s[++d].restore(),e&&e()),c="none",t.input.focus(),p()};var h=function(){var a=r||new i(t);return a?"moving"==c?(n||(n=a),void 0):(n&&(s[d-1].text!=n.text&&(s[d++]=n),n=null),s[d++]=a,s[d+1]=null,e&&e(),void 0):!1},m=function(e){var t=!1;if((e.ctrlKey||e.metaKey)&&!e.altKey){var n=e.charCode||e.keyCode,i=String.fromCharCode(n);switch(i.toLowerCase()){case"y":o.redo(),t=!0;break;case"z":e.shiftKey?o.redo():o.undo(),t=!0}}return t?(e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1),void 0):void 0},g=function(e){if(!e.ctrlKey&&!e.metaKey){var t=e.keyCode;t>=33&&40>=t||t>=63232&&63235>=t?u("moving"):8==t||46==t||127==t?u("deleting"):13==t?u("newlines"):27==t?u("escape"):(16>t||t>20)&&91!=t&&u("typing")}},v=function(){l.addEvent(t.input,"keypress",function(e){!e.ctrlKey&&!e.metaKey||e.altKey||89!=e.keyCode&&90!=e.keyCode||e.preventDefault()});var e=function(){(f.isIE||r&&r.text!=t.input.value)&&void 0==a&&(c="paste",h(),p())};l.addEvent(t.input,"keydown",m),l.addEvent(t.input,"keydown",g),l.addEvent(t.input,"mousedown",function(){u("moving")}),t.input.onpaste=e,t.input.ondrop=e},b=function(){v(),p(!0),h()};b()}function i(t,n){var i=this,a=t.input;this.init=function(){l.isVisible(a)&&(n||!u.activeElement||u.activeElement===a)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=a.scrollTop,(!this.text&&a.selectionStart||0===a.selectionStart)&&(this.text=a.value))},this.setInputAreaSelection=function(){if(l.isVisible(a))if(void 0===a.selectionStart||f.isOpera){if(u.selection){if(u.activeElement&&u.activeElement!==a)return;a.focus();var e=a.createTextRange();e.moveStart("character",-a.value.length),e.moveEnd("character",-a.value.length),e.moveEnd("character",i.end),e.moveStart("character",i.start),e.select()}}else a.focus(),a.selectionStart=i.start,a.selectionEnd=i.end,a.scrollTop=i.scrollTop},this.setInputAreaSelectionStartEnd=function(){if(t.ieCachedRange||!a.selectionStart&&0!==a.selectionStart){if(u.selection){i.text=l.fixEolChars(a.value);var e=t.ieCachedRange||u.selection.createRange(),n=l.fixEolChars(e.text),r="",o=r+n+r;e.text=o;var s=l.fixEolChars(a.value);e.moveStart("character",-o.length),e.text=n,i.start=s.indexOf(r),i.end=s.lastIndexOf(r)-r.length;var d=i.text.length-l.fixEolChars(a.value).length;if(d){for(e.moveStart("character",-n.length);d--;)n+="\n",i.end+=1;e.text=n}t.ieCachedRange&&(i.scrollTop=t.ieCachedScrollTop),t.ieCachedRange=null,this.setInputAreaSelection()}}else i.start=a.selectionStart,i.end=a.selectionEnd},this.restore=function(){void 0!=i.text&&i.text!=a.value&&(a.value=i.text),this.setInputAreaSelection(),a.scrollTop=i.scrollTop},this.getChunks=function(){var t=new e;return t.before=l.fixEolChars(i.text.substring(0,i.start)),t.startTag="",t.selection=l.fixEolChars(i.text.substring(i.start,i.end)),t.endTag="",t.after=l.fixEolChars(i.text.substring(i.end)),t.scrollTop=i.scrollTop,t},this.setChunks=function(e){e.before=e.before+e.startTag,e.after=e.endTag+e.after,this.start=e.before.length,this.end=e.before.length+e.selection.length,this.text=e.before+e.selection+e.after,this.scrollTop=e.scrollTop},this.init()}function a(e,t,n){var i,a,r,o=3e3,s="delayed",c=function(e,t){l.addEvent(e,"input",t),e.onpaste=t,e.ondrop=t,l.addEvent(e,"keypress",t),l.addEvent(e,"keydown",t)},p=function(){var e=0;return window.innerHeight?e=window.pageYOffset:u.documentElement&&u.documentElement.scrollTop?e=u.documentElement.scrollTop:u.body&&(e=u.body.scrollTop),e},h=function(){if(t.preview){var n=t.input.value;if(!n||n!=r){r=n;var i=(new Date).getTime();n=e.makeHtml(n);var o=(new Date).getTime();a=o-i,$(n)}}},m=function(){if(i&&(clearTimeout(i),i=void 0),"manual"!==s){var e=0;"delayed"===s&&(e=a),e>o&&(e=o),i=setTimeout(h,e)}},g=function(e){return e.scrollHeight<=e.clientHeight?1:e.scrollTop/(e.scrollHeight-e.clientHeight)},v=function(){t.preview&&(t.preview.scrollTop=(t.preview.scrollHeight-t.preview.clientHeight)*g(t.preview))};this.refresh=function(e){e?(r="",h()):m()},this.processingTime=function(){return a};var b,y=!0,w=function(e){var n=t.preview,i=n.parentNode,a=n.nextSibling;i.removeChild(n),n.innerHTML=e,a?i.insertBefore(n,a):i.appendChild(n)},x=function(e){t.preview.innerHTML=e},k=function(e){if(b)return b(e);try{x(e),b=x}catch(t){b=w,b(e)}},$=function(e){var i=d.getTop(t.input)-p();if(t.preview&&(k(e),n()),v(),y)return y=!1,void 0;var a=d.getTop(t.input)-p();f.isIE?setTimeout(function(){window.scrollBy(0,a-i)},0):window.scrollBy(0,a-i)},_=function(){c(t.input,m),h(),t.preview&&(t.preview.scrollTop=0)};_()}function r(e,t,n,a,r,o,s){function d(e){if(v.focus(),e.textOp){n&&n.setCommandMode();var r=new i(t);if(!r)return;var o=r.getChunks(),s=function(){v.focus(),o&&r.setChunks(o),r.restore(),a.refresh()},l=e.textOp(o,s);l||s()}e.execute&&e.execute(n)}function c(e,n){var i="0px",a="-20px",r="-40px",o=e.getElementsByTagName("span")[0];n?(o.style.backgroundPosition=e.XShift+" "+i,e.onmouseover=function(){o.style.backgroundPosition=this.XShift+" "+r},e.onmouseout=function(){o.style.backgroundPosition=this.XShift+" "+i},f.isIE&&(e.onmousedown=function(){u.activeElement&&u.activeElement!==t.input||(t.ieCachedRange=document.selection.createRange(),t.ieCachedScrollTop=t.input.scrollTop)}),e.isHelp||(e.onclick=function(){return this.onmouseout&&this.onmouseout(),d(this),!1})):(o.style.backgroundPosition=e.XShift+" "+a,e.onmouseover=e.onmouseout=e.onclick=function(){})}function p(e){return"string"==typeof e&&(e=r[e]),function(){e.apply(r,arguments)}}function m(){var n=t.buttonBar,i=document.createElement("ul");i.id="wmd-button-row"+e,i.className="wmd-button-row",i=n.appendChild(i);
var a=0,r=function(t,n,r,o){var s=document.createElement("li");s.className="wmd-button",s.style.left=a+"px",a+=25;var l=document.createElement("span");return s.id=t+e,s.appendChild(l),s.title=n,s.XShift=r,o&&(s.textOp=o),c(s,!0),i.appendChild(s),s},l=function(t){var n=document.createElement("li");n.className="wmd-spacer wmd-spacer"+t,n.id="wmd-spacer"+t+e,i.appendChild(n),a+=25};b.bold=r("wmd-bold-button",s("bold"),"0px",p("doBold")),b.italic=r("wmd-italic-button",s("italic"),"-20px",p("doItalic")),l(1),b.link=r("wmd-link-button",s("link"),"-40px",p(function(e,t){return this.doLinkOrImage(e,t,!1)})),b.quote=r("wmd-quote-button",s("quote"),"-60px",p("doBlockquote")),b.code=r("wmd-code-button",s("code"),"-80px",p("doCode")),b.image=r("wmd-image-button",s("image"),"-100px",p(function(e,t){return this.doLinkOrImage(e,t,!0)})),l(2),b.olist=r("wmd-olist-button",s("olist"),"-120px",p(function(e,t){this.doList(e,t,!0)})),b.ulist=r("wmd-ulist-button",s("ulist"),"-140px",p(function(e,t){this.doList(e,t,!1)})),b.heading=r("wmd-heading-button",s("heading"),"-160px",p("doHeading")),b.hr=r("wmd-hr-button",s("hr"),"-180px",p("doHorizontalRule")),l(3),b.undo=r("wmd-undo-button",s("undo"),"-200px",null),b.undo.execute=function(e){e&&e.undo()};var d=/win/.test(h.platform.toLowerCase())?s("redo"):s("redomac");if(b.redo=r("wmd-redo-button",d,"-220px",null),b.redo.execute=function(e){e&&e.redo()},o){var u=document.createElement("li"),m=document.createElement("span");u.appendChild(m),u.className="wmd-button wmd-help-button",u.id="wmd-help-button"+e,u.XShift="-240px",u.isHelp=!0,u.style.right="0px",u.title=s("help"),u.onclick=o.handler,c(u,!0),i.appendChild(u),b.help=u}g()}function g(){n&&(c(b.undo,n.canUndo()),c(b.redo,n.canRedo()))}var v=t.input,b={};m();var y="keydown";f.isOpera&&(y="keypress"),l.addEvent(v,y,function(e){if((e.ctrlKey||e.metaKey)&&!e.altKey&&!e.shiftKey){var t=e.charCode||e.keyCode,n=String.fromCharCode(t).toLowerCase();switch(n){case"b":d(b.bold);break;case"i":d(b.italic);break;case"l":d(b.link);break;case"q":d(b.quote);break;case"k":d(b.code);break;case"g":d(b.image);break;case"o":d(b.olist);break;case"u":d(b.ulist);break;case"h":d(b.heading);break;case"r":d(b.hr);break;case"y":d(b.redo);break;case"z":e.shiftKey?d(b.redo):d(b.undo);break;default:return}e.preventDefault&&e.preventDefault(),window.event&&(window.event.returnValue=!1)}}),l.addEvent(v,"keyup",function(e){if(e.shiftKey&&!e.ctrlKey&&!e.metaKey){var t=e.charCode||e.keyCode;if(13===t){var n={};n.textOp=p("doAutoindent"),d(n)}}}),f.isIE&&l.addEvent(v,"keydown",function(e){var t=e.keyCode;return 27===t?!1:void 0}),this.setUndoRedoButtonStates=g}function o(e,t){this.hooks=e,this.getString=t}function s(e){return e.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(e,t,n){return t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g," ")}),t=decodeURIComponent(t),t=encodeURI(t).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29"),t=t.replace(/\?.*$/,function(e){return e.replace(/\+/g,"%2b")}),n&&(n=n.trim?n.trim():n.replace(/^\s*/,"").replace(/\s*$/,""),n=n.replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),n?t+' "'+n+'"':t})}var l={},d={},c={},u=window.document,p=window.RegExp,h=window.navigator,m={lineLength:72},f={isIE:/msie/.test(h.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(h.userAgent.toLowerCase())||/msie 5/.test(h.userAgent.toLowerCase()),isOpera:/opera/.test(h.userAgent.toLowerCase())},g={bold:"Strong <strong> Ctrl+B",boldexample:"strong text",italic:"Emphasis <em> Ctrl+I",italicexample:"emphasized text",link:"Hyperlink <a> Ctrl+L",linkdescription:"enter link description here",linkdialog:'<p><b>Insert Hyperlink</b></p><p>http://example.com/ "optional title"</p>',quote:"Blockquote <blockquote> Ctrl+Q",quoteexample:"Blockquote",code:"Code Sample <pre><code> Ctrl+K",codeexample:"enter code here",image:"Image <img> Ctrl+G",imagedescription:"enter image description here",imagedialog:"<p><b>Insert Image</b></p><p>http://example.com/images/diagram.jpg \"optional title\"<br><br>Need <a href='http://www.google.com/search?q=free+image+hosting' target='_blank'>free image hosting?</a></p>",olist:"Numbered List <ol> Ctrl+O",ulist:"Bulleted List <ul> Ctrl+U",litem:"List item",heading:"Heading <h1>/<h2> Ctrl+H",headingexample:"Heading",hr:"Horizontal Rule <hr> Ctrl+R",undo:"Undo - Ctrl+Z",redo:"Redo - Ctrl+Y",redomac:"Redo - Ctrl+Shift+Z",help:"Markdown Editing Help"},v="http://",b="http://";Markdown.Editor=function(e,i,s){s=s||{},"function"==typeof s.handler&&(s={helpButton:s}),s.strings=s.strings||{},s.helpButton&&(s.strings.help=s.strings.help||s.helpButton.title);var l=function(e){return s.strings[e]||g[e]};i=i||"";var d=this.hooks=new Markdown.HookCollection;d.addNoop("onPreviewRefresh"),d.addNoop("postBlockquoteCreation"),d.addFalse("insertImageDialog"),this.getConverter=function(){return e};var c,p=this;this.run=function(){if(!c){c=new t(i);var h,m,f=new o(d,l),g=new a(e,c,function(){d.onPreviewRefresh()});/\?noundo/.test(u.location.href)||(h=new n(function(){g.refresh(),m&&m.setUndoRedoButtonStates()},c),this.textOperation=function(e){h.setCommandMode(),e(),p.refreshPreview()}),m=new r(i,c,h,g,f,s.helpButton,l),m.setUndoRedoButtonStates();var v=p.refreshPreview=function(){g.refresh(!0)};v()}}},e.prototype.findTags=function(e,t){var n,i=this;e&&(n=l.extendRegExp(e,"","$"),this.before=this.before.replace(n,function(e){return i.startTag=i.startTag+e,""}),n=l.extendRegExp(e,"^",""),this.selection=this.selection.replace(n,function(e){return i.startTag=i.startTag+e,""})),t&&(n=l.extendRegExp(t,"","$"),this.selection=this.selection.replace(n,function(e){return i.endTag=e+i.endTag,""}),n=l.extendRegExp(t,"^",""),this.after=this.after.replace(n,function(e){return i.endTag=e+i.endTag,""}))},e.prototype.trimWhitespace=function(e){var t,n,i=this;e?t=n="":(t=function(e){return i.before+=e,""},n=function(e){return i.after=e+i.after,""}),this.selection=this.selection.replace(/^(\s*)/,t).replace(/(\s*)$/,n)},e.prototype.skipLines=function(e,t,n){void 0===e&&(e=1),void 0===t&&(t=1),e++,t++;var i,a;if(navigator.userAgent.match(/Chrome/)&&"X".match(/()./),this.selection=this.selection.replace(/(^\n*)/,""),this.startTag=this.startTag+p.$1,this.selection=this.selection.replace(/(\n*$)/,""),this.endTag=this.endTag+p.$1,this.startTag=this.startTag.replace(/(^\n*)/,""),this.before=this.before+p.$1,this.endTag=this.endTag.replace(/(\n*$)/,""),this.after=this.after+p.$1,this.before){for(i=a="";e--;)i+="\\n?",a+="\n";n&&(i="\\n*"),this.before=this.before.replace(new p(i+"$",""),a)}if(this.after){for(i=a="";t--;)i+="\\n?",a+="\n";n&&(i="\\n*"),this.after=this.after.replace(new p(i,""),a)}},l.isVisible=function(e){return window.getComputedStyle?"none"!==window.getComputedStyle(e,null).getPropertyValue("display"):e.currentStyle?"none"!==e.currentStyle.display:void 0},l.addEvent=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)},l.removeEvent=function(e,t,n){e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener(t,n,!1)},l.fixEolChars=function(e){return e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n")},l.extendRegExp=function(e,t,n){(null===t||void 0===t)&&(t=""),(null===n||void 0===n)&&(n="");var i,a=e.toString();return a=a.replace(/\/([gim]*)$/,function(e,t){return i=t,""}),a=a.replace(/(^\/|\/$)/g,""),a=t+a+n,new p(a,i)},d.getTop=function(e,t){var n=e.offsetTop;if(!t)for(;e=e.offsetParent;)n+=e.offsetTop;return n},d.getHeight=function(e){return e.offsetHeight||e.scrollHeight},d.getWidth=function(e){return e.offsetWidth||e.scrollWidth},d.getPageSize=function(){var e,t,n,i;self.innerHeight&&self.scrollMaxY?(e=u.body.scrollWidth,t=self.innerHeight+self.scrollMaxY):u.body.scrollHeight>u.body.offsetHeight?(e=u.body.scrollWidth,t=u.body.scrollHeight):(e=u.body.offsetWidth,t=u.body.offsetHeight),self.innerHeight?(n=self.innerWidth,i=self.innerHeight):u.documentElement&&u.documentElement.clientHeight?(n=u.documentElement.clientWidth,i=u.documentElement.clientHeight):u.body&&(n=u.body.clientWidth,i=u.body.clientHeight);var a=Math.max(e,n),r=Math.max(t,i);return[a,r,n,i]},c.createBackground=function(){var e=u.createElement("div"),t=e.style;e.className="wmd-prompt-background",t.position="absolute",t.top="0",t.zIndex="1000",f.isIE?t.filter="alpha(opacity=50)":t.opacity="0.5";var n=d.getPageSize();return t.height=n[1]+"px",f.isIE?(t.left=u.documentElement.scrollLeft,t.width=u.documentElement.clientWidth):(t.left="0",t.width="100%"),u.body.appendChild(e),e},c.prompt=function(e,t,n){var i,a;void 0===t&&(t="");var r=function(e){var t=e.charCode||e.keyCode;27===t&&o(!0)},o=function(e){l.removeEvent(u.body,"keydown",r);var t=a.value;return e?t=null:(t=t.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(t)||(t="http://"+t)),i.parentNode.removeChild(i),n(t),!1},s=function(){i=u.createElement("div"),i.className="wmd-prompt-dialog",i.style.padding="10px;",i.style.position="fixed",i.style.width="400px",i.style.zIndex="1001";var n=u.createElement("div");n.innerHTML=e,n.style.padding="5px",i.appendChild(n);var s=u.createElement("form"),c=s.style;s.onsubmit=function(){return o(!1)},c.padding="0",c.margin="0",c.cssFloat="left",c.width="100%",c.textAlign="center",c.position="relative",i.appendChild(s),a=u.createElement("input"),a.type="text",a.value=t,c=a.style,c.display="block",c.width="80%",c.marginLeft=c.marginRight="auto",s.appendChild(a);var p=u.createElement("input");p.type="button",p.onclick=function(){return o(!1)},p.value="OK",c=p.style,c.margin="10px",c.display="inline",c.width="7em";var h=u.createElement("input");h.type="button",h.onclick=function(){return o(!0)},h.value="Cancel",c=h.style,c.margin="10px",c.display="inline",c.width="7em",s.appendChild(p),s.appendChild(h),l.addEvent(u.body,"keydown",r),i.style.top="50%",i.style.left="50%",i.style.display="block",f.isIE_5or6&&(i.style.position="absolute",i.style.top=u.documentElement.scrollTop+200+"px",i.style.left="50%"),u.body.appendChild(i),i.style.marginTop=-(d.getHeight(i)/2)+"px",i.style.marginLeft=-(d.getWidth(i)/2)+"px"};setTimeout(function(){s();var e=t.length;if(void 0!==a.selectionStart)a.selectionStart=0,a.selectionEnd=e;else if(a.createTextRange){var n=a.createTextRange();n.collapse(!1),n.moveStart("character",-e),n.moveEnd("character",e),n.select()}a.focus()},0)};var y=o.prototype;y.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)",y.unwrap=function(e){var t=new p("([^\\n])\\n(?!(\\n|"+this.prefixes+"))","g");e.selection=e.selection.replace(t,"$1 $2")},y.wrap=function(e,t){this.unwrap(e);var n=new p("(.{1,"+t+"})( +|$\\n?)","gm"),i=this;e.selection=e.selection.replace(n,function(e,t){return new p("^"+i.prefixes,"").test(e)?e:t+"\n"}),e.selection=e.selection.replace(/\s+$/,"")},y.doBold=function(e,t){return this.doBorI(e,t,2,this.getString("boldexample"))},y.doItalic=function(e,t){return this.doBorI(e,t,1,this.getString("italicexample"))},y.doBorI=function(e,t,n,i){e.trimWhitespace(),e.selection=e.selection.replace(/\n{2,}/g,"\n");var a=/(\**$)/.exec(e.before)[0],r=/(^\**)/.exec(e.after)[0],o=Math.min(a.length,r.length);if(o>=n&&(2!=o||1!=n))e.before=e.before.replace(p("[*]{"+n+"}$",""),""),e.after=e.after.replace(p("^[*]{"+n+"}",""),"");else if(!e.selection&&r){e.after=e.after.replace(/^([*_]*)/,""),e.before=e.before.replace(/(\s?)$/,"");var s=p.$1;e.before=e.before+r+s}else{e.selection||r||(e.selection=i);var l=1>=n?"*":"**";e.before=e.before+l,e.after=l+e.after}},y.stripLinkDefs=function(e,t){return e=e.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,function(e,n,i,a,r){return t[n]=e.replace(/\s*$/,""),a?(t[n]=e.replace(/["(](.+?)[")]$/,""),a+r):""})},y.addLinkDef=function(e,t){var n=0,i={};e.before=this.stripLinkDefs(e.before,i),e.selection=this.stripLinkDefs(e.selection,i),e.after=this.stripLinkDefs(e.after,i);var a="",r=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,o=function(e){n++,e=e.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+n+"]:"),a+="\n"+e},s=function(e,t,a,l,d,c){return a=a.replace(r,s),i[d]?(o(i[d]),t+a+l+n+c):e};e.before=e.before.replace(r,s),t?o(t):e.selection=e.selection.replace(r,s);var l=n;return e.after=e.after.replace(r,s),e.after&&(e.after=e.after.replace(/\n*$/,"")),e.after||(e.selection=e.selection.replace(/\n*$/,"")),e.after+="\n\n"+a,l},y.doLinkOrImage=function(e,t,n){e.trimWhitespace(),e.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);var i;if(!(e.endTag.length>1&&e.startTag.length>0)){if(e.selection=e.startTag+e.selection+e.endTag,e.startTag=e.endTag="",/\n\n/.test(e.selection))return this.addLinkDef(e,null),void 0;var a=this,r=function(r){if(i.parentNode.removeChild(i),null!==r){e.selection=(" "+e.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1);var o=" [999]: "+s(r),l=a.addLinkDef(e,o);e.startTag=n?"![":"[",e.endTag="]["+l+"]",e.selection||(e.selection=n?a.getString("imagedescription"):a.getString("linkdescription"))}t()};return i=c.createBackground(),n?this.hooks.insertImageDialog(r)||c.prompt(this.getString("imagedialog"),v,r):c.prompt(this.getString("linkdialog"),b,r),!0}e.startTag=e.startTag.replace(/!?\[/,""),e.endTag="",this.addLinkDef(e,null)},y.doAutoindent=function(e){var t=this,n=!1;e.before=e.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n"),e.before=e.before.replace(/(\n|^)[ \t]+\n$/,"\n\n"),e.selection||/^[ \t]*(?:\n|$)/.test(e.after)||(e.after=e.after.replace(/^[^\n]*/,function(t){return e.selection=t,""}),n=!0),/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(e.before)&&t.doList&&t.doList(e),/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(e.before)&&t.doBlockquote&&t.doBlockquote(e),/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&t.doCode&&t.doCode(e),n&&(e.after=e.selection+e.after,e.selection="")},y.doBlockquote=function(e){e.selection=e.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(t,n,i,a){return e.before+=n,e.after=a+e.after,i}),e.before=e.before.replace(/(>[ \t]*)$/,function(t,n){return e.selection=n+e.selection,""}),e.selection=e.selection.replace(/^(\s|>)+$/,""),e.selection=e.selection||this.getString("quoteexample");var t,n="",i="";if(e.before){for(var a=e.before.replace(/\n$/,"").split("\n"),r=!1,o=0;o<a.length;o++){var s=!1;t=a[o],r=r&&t.length>0,/^>/.test(t)?(s=!0,!r&&t.length>1&&(r=!0)):s=/^[ \t]*$/.test(t)?!0:r,s?n+=t+"\n":(i+=n+t,n="\n")}/(^|\n)>/.test(n)||(i+=n,n="")}e.startTag=n,e.before=i,e.after&&(e.after=e.after.replace(/^\n?/,"\n")),e.after=e.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(t){return e.endTag=t,""});var l=function(t){var n=t?"> ":"";e.startTag&&(e.startTag=e.startTag.replace(/\n((>|\s)*)\n$/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"})),e.endTag&&(e.endTag=e.endTag.replace(/^\n((>|\s)*)\n/,function(e,t){return"\n"+t.replace(/^[ ]{0,3}>?[ \t]*$/gm,n)+"\n"}))};/^(?![ ]{0,3}>)/m.test(e.selection)?(this.wrap(e,m.lineLength-2),e.selection=e.selection.replace(/^/gm,"> "),l(!0),e.skipLines()):(e.selection=e.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(e),l(!1),!/^(\n|^)[ ]{0,3}>/.test(e.selection)&&e.startTag&&(e.startTag=e.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(e.selection)&&e.endTag&&(e.endTag=e.endTag.replace(/^\n{0,2}/,"\n\n"))),e.selection=this.hooks.postBlockquoteCreation(e.selection),/\n/.test(e.selection)||(e.selection=e.selection.replace(/^(> *)/,function(t,n){return e.startTag+=n,""}))},y.doCode=function(e){var t=/\S[ ]*$/.test(e.before),n=/^[ ]*\S/.test(e.after);if(!n&&!t||/\n/.test(e.selection)){e.before=e.before.replace(/[ ]{4}$/,function(t){return e.selection=t+e.selection,""});var i=1,a=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(e.before)&&(i=0),/^\n(\t|[ ]{4,})/.test(e.after)&&(a=0),e.skipLines(i,a),e.selection?/^[ ]{0,3}\S/m.test(e.selection)?/\n/.test(e.selection)?e.selection=e.selection.replace(/^/gm,"    "):e.before+="    ":e.selection=e.selection.replace(/^(?:[ ]{4}|[ ]{0,3}\t)/gm,""):(e.startTag="    ",e.selection=this.getString("codeexample"))}else e.trimWhitespace(),e.findTags(/`/,/`/),e.startTag||e.endTag?e.endTag&&!e.startTag?(e.before+=e.endTag,e.endTag=""):e.startTag=e.endTag="":(e.startTag=e.endTag="`",e.selection||(e.selection=this.getString("codeexample")))},y.doList=function(e,t,n){var i=/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,a=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/,r="-",o=1,s=function(){var e;return n?(e=" "+o+". ",o++):e=" "+r+" ",e},l=function(e){return void 0===n&&(n=/^\s*\d/.test(e)),e=e.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(){return s()})};if(e.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null),!e.before||/\n$/.test(e.before)||/^\n/.test(e.startTag)||(e.before+=e.startTag,e.startTag=""),e.startTag){var d=/\d+[.]/.test(e.startTag);if(e.startTag="",e.selection=e.selection.replace(/\n[ ]{4}/g,"\n"),this.unwrap(e),e.skipLines(),d&&(e.after=e.after.replace(a,l)),n==d)return}var c=1;e.before=e.before.replace(i,function(e){return/^\s*([*+-])/.test(e)&&(r=p.$1),c=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.selection||(e.selection=this.getString("litem"));var u=s(),h=1;e.after=e.after.replace(a,function(e){return h=/[^\n]\n\n[^\n]/.test(e)?1:0,l(e)}),e.trimWhitespace(!0),e.skipLines(c,h,!0),e.startTag=u;var f=u.replace(/./g," ");this.wrap(e,m.lineLength-f.length),e.selection=e.selection.replace(/\n/g,"\n"+f)},y.doHeading=function(e){if(e.selection=e.selection.replace(/\s+/g," "),e.selection=e.selection.replace(/(^\s+|\s+$)/g,""),!e.selection)return e.startTag="## ",e.selection=this.getString("headingexample"),e.endTag=" ##",void 0;var t=0;e.findTags(/#+[ ]*/,/[ ]*#+/),/#+/.test(e.startTag)&&(t=p.lastMatch.length),e.startTag=e.endTag="",e.findTags(null,/\s?(-+|=+)/),/=+/.test(e.endTag)&&(t=1),/-+/.test(e.endTag)&&(t=2),e.startTag=e.endTag="",e.skipLines(1,1);var n=0==t?2:t-1;if(n>0){var i=n>=2?"-":"=",a=e.selection.length;for(a>m.lineLength&&(a=m.lineLength),e.endTag="\n";a--;)e.endTag+=i}},y.doHorizontalRule=function(e){e.startTag="----------\n",e.selection="",e.skipLines(2,1,!0)}}(),function(){function e(e){return e.replace(/^\s+|\s+$/g,"")}function t(e){return e.replace(/\s+$/g,"")}function n(e){return e.replace(new RegExp("^(\\t|[ ]{1,4})","gm"),"")}function i(e,t){return-1!=e.indexOf(t)}function a(e,t){return e.replace(/<[^>]*>?/gi,function(e){return e.match(t)?e:""})}function r(e,t){for(var n={},i=0;i<e.length;i++)n[e[i]]=e[i];for(i=0;i<t.length;i++)n[t[i]]=t[i];var a=[];for(var r in n)n.hasOwnProperty(r)&&a.push(n[r]);return a}function o(e){return""!=e.charAt(0)&&(e=""+e),""!=e.charAt(e.length-1)&&(e+=""),e}function s(e){return""==e.charAt(0)&&(e=e.substr(1)),""==e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),e}function l(e,t){return a(d(e,t),f)}function d(e,t){var n=t.blockGamutHookCallback(e);return n=p(n),n=n.replace(/~D/g,"$$").replace(/~T/g,"~"),n=t.previousPostConversion(n)}function c(e){return e.replace(/\\\|/g,"~I").replace(/\\:/g,"~i")}function u(e){return e.replace(/~I/g,"|").replace(/~i/g,":")}function p(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})}function h(e){return e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function m(e,t){var n=t;return n=n.replace(/&\#8220;/g,'"'),n=n.replace(/&\#8221;/g,'"'),n=n.replace(/&\#8216;/g,"'"),n=n.replace(/&\#8217;/g,"'"),n=n.replace(/&\#8212;/g,"---"),n=n.replace(/&\#8211;/g,"--"),n=n.replace(/&\#8230;/g,"...")}var f=new RegExp(["^(<\\/?(a|abbr|acronym|applet|area|b|basefont|","bdo|big|button|cite|code|del|dfn|em|figcaption|","font|i|iframe|img|input|ins|kbd|label|map|","mark|meter|object|param|progress|q|ruby|rp|rt|s|","samp|script|select|small|span|strike|strong|","sub|sup|textarea|time|tt|u|var|wbr)[^>]*>|","<(br)\\s?\\/?>)$"].join(""),"i");Array.indexOf||(Array.prototype.indexOf=function(e){for(var t=0;t<this.length;t++)if(this[t]==e)return t;return-1}),Markdown.Extra=function(){this.converter=null,this.hashBlocks=[],this.footnotes={},this.usedFootnotes=[],this.attributeBlocks=!1,this.googleCodePrettify=!1,this.highlightJs=!1,this.tableClass="",this.tabWidth=4},Markdown.Extra.init=function(e,t){var n=new Markdown.Extra,a=[],r=[],o=[],s=["unHashExtraBlocks"];return t=t||{},t.extensions=t.extensions||["all"],i(t.extensions,"all")&&(t.extensions=["tables","fenced_code_gfm","def_list","attr_list","footnotes","smartypants","strikethrough","newlines"]),r.push("wrapHeaders"),i(t.extensions,"attr_list")&&(a.push("hashFcbAttributeBlocks"),r.push("hashHeaderAttributeBlocks"),s.push("applyAttributeBlocks"),n.attributeBlocks=!0),i(t.extensions,"fenced_code_gfm")&&(r.push("fencedCodeBlocks"),a.push("fencedCodeBlocks")),i(t.extensions,"tables")&&r.push("tables"),i(t.extensions,"def_list")&&r.push("definitionLists"),i(t.extensions,"footnotes")&&(a.push("stripFootnoteDefinitions"),r.push("doFootnotes"),s.push("printFootnotes")),i(t.extensions,"smartypants")&&s.push("runSmartyPants"),i(t.extensions,"strikethrough")&&o.push("strikethrough"),i(t.extensions,"newlines")&&o.push("newlines"),e.hooks.chain("postNormalization",function(e){return n.doTransform(a,e)+"\n"}),e.hooks.chain("preBlockGamut",function(e,t){return n.blockGamutHookCallback=t,e=c(e),e=n.doTransform(r,e)+"\n",e=u(e)}),e.hooks.chain("postSpanGamut",function(e){return n.doTransform(o,e)}),n.previousPostConversion=e.hooks.postConversion,e.hooks.chain("postConversion",function(e){return e=n.doTransform(s,e),n.hashBlocks=[],n.footnotes={},n.usedFootnotes=[],e}),"highlighter"in t&&(n.googleCodePrettify="prettify"===t.highlighter,n.highlightJs="highlight"===t.highlighter),"table_class"in t&&(n.tableClass=t.table_class),n.converter=e,n},Markdown.Extra.prototype.doTransform=function(e,t){for(var n=0;n<e.length;n++)t=this[e[n]](t);return t},Markdown.Extra.prototype.hashExtraBlock=function(e){return"\n<p>~X"+(this.hashBlocks.push(e)-1)+"X</p>\n"},Markdown.Extra.prototype.hashExtraInline=function(e){return"~X"+(this.hashBlocks.push(e)-1)+"X"},Markdown.Extra.prototype.unHashExtraBlocks=function(e){function t(){var i=!1;e=e.replace(/(?:<p>)?~X(\d+)X(?:<\/p>)?/g,function(e,t){i=!0;var a=parseInt(t,10);return n.hashBlocks[a]}),i===!0&&t()}var n=this;return t(),e},Markdown.Extra.prototype.wrapHeaders=function(e){function t(e){return"\n"+e+"\n"}return e=e.replace(/^.+[ \t]*\n=+[ \t]*\n+/gm,t),e=e.replace(/^.+[ \t]*\n-+[ \t]*\n+/gm,t),e=e.replace(/^\#{1,6}[ \t]*.+?[ \t]*\#*\n+/gm,t)};var g="\\{[ \\t]*((?:[#.][-_:a-zA-Z0-9]+[ \\t]*)+)\\}",v=new RegExp("^(#{1,6}.*#{0,6})[ \\t]+"+g+"[ \\t]*(?:\\n|0x03)","gm"),b=new RegExp("^(.*)[ \\t]+"+g+"[ \\t]*\\n(?=[\\-|=]+\\s*(?:\\n|0x03))","gm"),y=new RegExp("^(```[ \\t]*[^{\\s]*)[ \\t]+"+g+"[ \\t]*\\n(?=([\\s\\S]*?)\\n```[ \\t]*(\\n|0x03))","gm");Markdown.Extra.prototype.hashHeaderAttributeBlocks=function(e){function t(e,t,i){return"<p>~XX"+(n.hashBlocks.push(i)-1)+"XX</p>\n"+t+"\n"}var n=this;return e=e.replace(v,t),e=e.replace(b,t)},Markdown.Extra.prototype.hashFcbAttributeBlocks=function(e){function t(e,t,i){return"<p>~XX"+(n.hashBlocks.push(i)-1)+"XX</p>\n"+t+"\n"}var n=this;return e.replace(y,t)},Markdown.Extra.prototype.applyAttributeBlocks=function(e){var t=this,n=new RegExp('<p>~XX(\\d+)XX</p>[\\s]*(?:<(h[1-6]|pre)(?: +class="(\\S+)")?(>[\\s\\S]*?</\\2>))',"gm");return e=e.replace(n,function(e,n,i,a,o){if(!i)return"";for(var s=parseInt(n,10),l=t.hashBlocks[s],d=l.match(/#[^\s#.]+/g)||[],c=d[0]?' id="'+d[0].substr(1,d[0].length-1)+'"':"",u=l.match(/\.[^\s#.]+/g)||[],p=0;p<u.length;p++)u[p]=u[p].substr(1,u[p].length-1);var h="";return a&&(u=r(u,[a])),u.length>0&&(h=' class="'+u.join(" ")+'"'),"<"+i+c+h+o})},Markdown.Extra.prototype.tables=function(t){function n(t,n,a,r){n=n.replace(/^ *[|]/m,""),a=a.replace(/^ *[|]/m,""),r=r.replace(/^ *[|]/gm,""),n=n.replace(/[|] *$/m,""),a=a.replace(/[|] *$/m,""),r=r.replace(/[|] *$/gm,""),alignspecs=a.split(/ *[|] */),align=[];for(var o=0;o<alignspecs.length;o++){var s=alignspecs[o];align[o]=s.match(/^ *-+: *$/m)?' style="text-align:right;"':s.match(/^ *:-+: *$/m)?' style="text-align:center;"':s.match(/^ *:-+ *$/m)?' style="text-align:left;"':""}var d=n.split(/ *[|] */),c=d.length,u=i.tableClass?' class="'+i.tableClass+'"':"",p=["<table",u,">\n","<thead>\n","<tr>\n"].join("");for(o=0;c>o;o++){var h=l(e(d[o]),i);p+=["  <th",align[o],">",h,"</th>\n"].join("")}p+="</tr>\n</thead>\n";var m=r.split("\n");for(o=0;o<m.length;o++)if(!m[o].match(/^\s*$/)){for(var f=m[o].split(/ *[|] */),g=c-f.length,v=0;g>v;v++)f.push("");for(p+="<tr>\n",v=0;c>v;v++){var b=l(e(f[v]),i);p+=["  <td",align[v],">",b,"</td>\n"].join("")}p+="</tr>\n"}return p+="</table>\n",i.hashExtraBlock(p)}var i=this,a=new RegExp(["^","[ ]{0,3}","[|]","(.+)\\n","[ ]{0,3}","[|]([ ]*[-:]+[-| :]*)\\n","(","(?:[ ]*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm"),r=new RegExp(["^","[ ]{0,3}","(\\S.*[|].*)\\n","[ ]{0,3}","([-:]+[ ]*[|][-| :]*)\\n","(","(?:.*[|].*\\n?)*",")","(?:\\n|$)"].join(""),"gm");return t=t.replace(a,n),t=t.replace(r,n)},Markdown.Extra.prototype.stripFootnoteDefinitions=function(e){var t=this;return e=e.replace(/\n[ ]{0,3}\[\^(.+?)\]\:[ \t]*\n?([\s\S]*?)\n{1,2}((?=\n[ ]{0,3}\S)|$)/g,function(e,n,i){return n=h(n),i+="\n",i=i.replace(/^[ ]{0,3}/g,""),t.footnotes[n]=i,"\n"})},Markdown.Extra.prototype.doFootnotes=function(e){var t=this;if(t.isConvertingFootnote===!0)return e;var n=0;return e=e.replace(/\[\^(.+?)\]/g,function(e,i){var a=h(i),r=t.footnotes[a];if(void 0===r)return e;n++,t.usedFootnotes.push(a);var o='<a href="#fn:'+a+'" id="fnref:'+a+'" title="See footnote" class="footnote">'+n+"</a>";return t.hashExtraInline(o)})},Markdown.Extra.prototype.printFootnotes=function(e){var t=this;if(0===t.usedFootnotes.length)return e;e+='\n\n<div class="footnotes">\n<hr>\n<ol>\n\n';for(var n=0;n<t.usedFootnotes.length;n++){var i=t.usedFootnotes[n],a=t.footnotes[i];t.isConvertingFootnote=!0;var r=l(a,t);delete t.isConvertingFootnote,e+='<li id="fn:'+i+'">'+r+' <a href="#fnref:'+i+'" title="Return to article" class="reversefootnote">&#8617;</a></li>\n\n'}return e+="</ol>\n</div>"},Markdown.Extra.prototype.fencedCodeBlocks=function(e){function t(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~")}var n=this;return e=e.replace(/(?:^|\n)```[ \t]*(\S*)[ \t]*\n([\s\S]*?)\n```[ \t]*(?=\n)/g,function(e,i,a){var r=i,o=a,s=n.googleCodePrettify?' class="prettyprint"':"",l="";r&&(l=n.googleCodePrettify||n.highlightJs?' class="language-'+r+'"':' class="'+r+'"');var d=["<pre",s,"><code",l,">",t(o),"</code></pre>"].join("");return n.hashExtraBlock(d)})},Markdown.Extra.prototype.educatePants=function(e){var t=this,n="",i=0;e.replace(/(?:<!--[\s\S]*?-->)|(<)([a-zA-Z1-6]+)([^\n]*?>)([\s\S]*?)(<\/\2>)/g,function(a,r,o,s,l,d,c){var u=e.substring(i,c);return n+=t.applyPants(u),t.smartyPantsLastChar=n.substring(n.length-1),i=c+a.length,r?(/code|kbd|pre|script|noscript|iframe|math|ins|del|pre/i.test(o)?t.smartyPantsLastChar=l.substring(l.length-1):l=t.educatePants(l),n+=r+o+s+l+d,void 0):(n+=a,void 0)});var a=e.substring(i);return n+=t.applyPants(a),t.smartyPantsLastChar=n.substring(n.length-1),n},Markdown.Extra.prototype.applyPants=function(e){return e=e.replace(/---/g,"&#8212;").replace(/--/g,"&#8211;"),e=e.replace(/\.\.\./g,"&#8230;").replace(/\.\s\.\s\./g,"&#8230;"),e=e.replace(/``/g,"&#8220;").replace(/''/g,"&#8221;"),/^'$/.test(e)?/\S/.test(this.smartyPantsLastChar)?"&#8217;":"&#8216;":/^"$/.test(e)?/\S/.test(this.smartyPantsLastChar)?"&#8221;":"&#8220;":(e=e.replace(/^'(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8217;"),e=e.replace(/^"(?=[!"#\$\%'()*+,\-.\/:;<=>?\@\[\\]\^_`{|}~]\B)/,"&#8221;"),e=e.replace(/"'(?=\w)/g,"&#8220;&#8216;"),e=e.replace(/'"(?=\w)/g,"&#8216;&#8220;"),e=e.replace(/'(?=\d{2}s)/g,"&#8217;"),e=e.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)'(?=\w)/g,"$1&#8216;"),e=e.replace(/([^\s\[\{\(\-])'/g,"$1&#8217;"),e=e.replace(/'(?=\s|s\b)/g,"&#8217;"),e=e.replace(/'/g,"&#8216;"),e=e.replace(/(\s|&nbsp;|--|&[mn]dash;|&\#8211;|&\#8212;|&\#x201[34];)"(?=\w)/g,"$1&#8220;"),e=e.replace(/([^\s\[\{\(\-])"/g,"$1&#8221;"),e=e.replace(/"(?=\s)/g,"&#8221;"),e=e.replace(/"/gi,"&#8220;"))},Markdown.Extra.prototype.runSmartyPants=function(e){return this.smartyPantsLastChar="",e=this.educatePants(e),e=e.replace(/(<([a-zA-Z1-6]+)\b([^\n>]*?)(\/)?>)/g,m)},Markdown.Extra.prototype.definitionLists=function(t){var n=new RegExp(["(\\x02\\n?|\\n\\n)","(?:","(","(","[ ]{0,3}","((?:[ \\t]*\\S.*\\n)+)","\\n?","[ ]{0,3}:[ ]+",")","([\\s\\S]+?)","(","(?=\\0x03)","|","(?=","\\n{2,}","(?=\\S)","(?!","[ ]{0,3}","(?:\\S.*\\n)+?","\\n?","[ ]{0,3}:[ ]+",")","(?!","[ ]{0,3}:[ ]+",")",")",")",")",")"].join(""),"gm"),i=this;return t=o(t),t=t.replace(n,function(t,n,a){var r=e(i.processDefListItems(a));return r="<dl>\n"+r+"\n</dl>",n+i.hashExtraBlock(r)+"\n\n"}),s(t)},Markdown.Extra.prototype.processDefListItems=function(i){var a=this,r=new RegExp(["(\\x02\\n?|\\n\\n+)","(","[ ]{0,3}","(?![:][ ]|[ ])","(?:\\S.*\\n)+?",")","(?=\\n?[ ]{0,3}:[ ])"].join(""),"gm"),c=new RegExp(["\\n(\\n+)?","(","[ ]{0,3}","[:][ ]+",")","([\\s\\S]+?)","(?=\\n*","(?:","\\n[ ]{0,3}[:][ ]|","<dt>|\\x03",")",")"].join(""),"gm");return i=o(i),i=i.replace(/\n{2,}(?=\\x03)/,"\n"),i=i.replace(r,function(t,n,i){for(var r=e(i).split("\n"),o="",s=0;s<r.length;s++){var d=r[s];d=l(e(d),a),o+="\n<dt>"+d+"</dt>"}return o+"\n"}),i=i.replace(c,function(e,i,r,o){return i||o.match(/\n{2,}/)?(o=Array(r.length+1).join(" ")+o,o=n(o)+"\n\n",o="\n"+d(o,a)+"\n"):(o=t(o),o=l(n(o),a)),"\n<dd>"+o+"</dd>\n"}),s(i)},Markdown.Extra.prototype.strikethrough=function(e){return e.replace(/([\W_]|^)~T~T(?=\S)([^\r]*?\S[\*_]*)~T~T([\W_]|$)/g,"$1<del>$2</del>$3")},Markdown.Extra.prototype.newlines=function(e){return e.replace(/(<(?:br|\/li)>)?\n/g,function(e,t){return t?e:" <br>\n"})}}(),function(){function e(t,n,i){var a=e.resolve(t);if(null==a){i=i||t,n=n||"root";var r=new Error('Failed to require "'+i+'" from "'+n+'"');throw r.path=i,r.parent=n,r.require=!0,r}var o=e.modules[a];if(!o._resolving&&!o.exports){var s={};s.exports={},s.client=s.component=!0,o._resolving=!0,o.call(this,s.exports,e.relative(a),s),delete o._resolving,o.exports=s.exports}return o.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var n=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],i=0;i<n.length;i++){var t=n[i];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var n=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var i=0;i<t.length;++i)".."==t[i]?e.pop():"."!=t[i]&&""!=t[i]&&n.push(t[i]);return e.concat(n).join("/")},e.register=function(t,n){e.modules[t]=n},e.alias=function(t,n){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[n]=t},e.relative=function(t){function n(e,t){for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function i(n){var a=i.resolve(n);return e(a,t,n)}var a=e.normalize(t,"..");return i.resolve=function(i){var r=i.charAt(0);if("/"==r)return i.slice(1);if("."==r)return e.normalize(a,i);var o=t.split("/"),s=n(o,"deps")+1;return s||(s=0),i=o.slice(0,s+1).join("/")+"/deps/"+i},i.exists=function(t){return e.modules.hasOwnProperty(i.resolve(t))},i},e.register("abpetkov-transitionize/transitionize.js",function(e,t,n){function i(e,t){return this instanceof i?(this.element=e,this.props=t||{},this.init(),void 0):new i(e,t)}n.exports=i,i.prototype.isSafari=function(){return/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor)},i.prototype.init=function(){var e=[];for(var t in this.props)e.push(t+" "+this.props[t]);this.element.style.transition=e.join(", "),this.isSafari()&&(this.element.style.webkitTransition=e.join(", "))}}),e.register("ftlabs-fastclick/lib/fastclick.js",function(e,t,n){function i(e){"use strict";var t,n=this;if(this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=10,this.layer=e,!e||!e.nodeType)throw new TypeError("Layer must be a document node");this.onClick=function(){return i.prototype.onClick.apply(n,arguments)},this.onMouse=function(){return i.prototype.onMouse.apply(n,arguments)},this.onTouchStart=function(){return i.prototype.onTouchStart.apply(n,arguments)},this.onTouchMove=function(){return i.prototype.onTouchMove.apply(n,arguments)},this.onTouchEnd=function(){return i.prototype.onTouchEnd.apply(n,arguments)},this.onTouchCancel=function(){return i.prototype.onTouchCancel.apply(n,arguments)
},i.notNeeded(e)||(this.deviceIsAndroid&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,i){var a=Node.prototype.removeEventListener;"click"===t?a.call(e,t,n.hijacked||n,i):a.call(e,t,n,i)},e.addEventListener=function(t,n,i){var a=Node.prototype.addEventListener;"click"===t?a.call(e,t,n.hijacked||(n.hijacked=function(e){e.propagationStopped||n(e)}),i):a.call(e,t,n,i)}),"function"==typeof e.onclick&&(t=e.onclick,e.addEventListener("click",function(e){t(e)},!1),e.onclick=null))}i.prototype.deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,i.prototype.deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),i.prototype.deviceIsIOS4=i.prototype.deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),i.prototype.deviceIsIOSWithBadTarget=i.prototype.deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),i.prototype.needsClick=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(this.deviceIsIOS&&"file"===e.type||e.disabled)return!0;break;case"label":case"video":return!0}return/\bneedsclick\b/.test(e.className)},i.prototype.needsFocus=function(e){"use strict";switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!this.deviceIsAndroid;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},i.prototype.sendClick=function(e,t){"use strict";var n,i;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),i=t.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(e),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,e.dispatchEvent(n)},i.prototype.determineEventType=function(e){"use strict";return this.deviceIsAndroid&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},i.prototype.focus=function(e){"use strict";var t;this.deviceIsIOS&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},i.prototype.updateScrollParent=function(e){"use strict";var t,n;if(t=e.fastClickScrollParent,!t||!t.contains(e)){n=e;do{if(n.scrollHeight>n.offsetHeight){t=n,e.fastClickScrollParent=n;break}n=n.parentElement}while(n)}t&&(t.fastClickLastScrollTop=t.scrollTop)},i.prototype.getTargetElementFromEventTarget=function(e){"use strict";return e.nodeType===Node.TEXT_NODE?e.parentNode:e},i.prototype.onTouchStart=function(e){"use strict";var t,n,i;if(e.targetTouches.length>1)return!0;if(t=this.getTargetElementFromEventTarget(e.target),n=e.targetTouches[0],this.deviceIsIOS){if(i=window.getSelection(),i.rangeCount&&!i.isCollapsed)return!0;if(!this.deviceIsIOS4){if(n.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=n.pageX,this.touchStartY=n.pageY,e.timeStamp-this.lastClickTime<200&&e.preventDefault(),!0},i.prototype.touchHasMoved=function(e){"use strict";var t=e.changedTouches[0],n=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>n||Math.abs(t.pageY-this.touchStartY)>n?!0:!1},i.prototype.onTouchMove=function(e){"use strict";return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},i.prototype.findControl=function(e){"use strict";return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},i.prototype.onTouchEnd=function(e){"use strict";var t,n,i,a,r,o=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<200)return this.cancelNextClick=!0,!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,this.deviceIsIOSWithBadTarget&&(r=e.changedTouches[0],o=document.elementFromPoint(r.pageX-window.pageXOffset,r.pageY-window.pageYOffset)||o,o.fastClickScrollParent=this.targetElement.fastClickScrollParent),i=o.tagName.toLowerCase(),"label"===i){if(t=this.findControl(o)){if(this.focus(o),this.deviceIsAndroid)return!1;o=t}}else if(this.needsFocus(o))return e.timeStamp-n>100||this.deviceIsIOS&&window.top!==window&&"input"===i?(this.targetElement=null,!1):(this.focus(o),this.deviceIsIOS4&&"select"===i||(this.targetElement=null,e.preventDefault()),!1);return this.deviceIsIOS&&!this.deviceIsIOS4&&(a=o.fastClickScrollParent,a&&a.fastClickLastScrollTop!==a.scrollTop)?!0:(this.needsClick(o)||(e.preventDefault(),this.sendClick(o,e)),!1)},i.prototype.onTouchCancel=function(){"use strict";this.trackingClick=!1,this.targetElement=null},i.prototype.onMouse=function(e){"use strict";return this.targetElement?e.forwardedTouchEvent?!0:e.cancelable?!this.needsClick(this.targetElement)||this.cancelNextClick?(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1):!0:!0:!0},i.prototype.onClick=function(e){"use strict";var t;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===e.target.type&&0===e.detail?!0:(t=this.onMouse(e),t||(this.targetElement=null),t)},i.prototype.destroy=function(){"use strict";var e=this.layer;this.deviceIsAndroid&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},i.notNeeded=function(e){"use strict";var t,n;if("undefined"==typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!i.prototype.deviceIsAndroid)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(n>31&&window.innerWidth<=window.screen.width)return!0}}return"none"===e.style.msTouchAction?!0:!1},i.attach=function(e){"use strict";return new i(e)},"undefined"!=typeof define&&define.amd?define(function(){"use strict";return i}):"undefined"!=typeof n&&n.exports?(n.exports=i.attach,n.exports.FastClick=i):window.FastClick=i}),e.register("switchery/switchery.js",function(e,t,n){function i(e,t){if(!(this instanceof i))return new i(e,t);this.element=e,this.options=t||{};for(var n in o)null==this.options[n]&&(this.options[n]=o[n]);null!=this.element&&"checkbox"==this.element.type&&this.init()}var a=t("transitionize"),r=t("fastclick");n.exports=i;var o={color:"#64bd63",secondaryColor:"#dfdfdf",className:"switchery",disabled:!1,disabledOpacity:.5,speed:"0.4s"};i.prototype.hide=function(){this.element.style.display="none"},i.prototype.show=function(){var e=this.create();this.insertAfter(this.element,e)},i.prototype.create=function(){return this.switcher=document.createElement("span"),this.jack=document.createElement("small"),this.switcher.appendChild(this.jack),this.switcher.className=this.options.className,this.switcher},i.prototype.insertAfter=function(e,t){e.parentNode.insertBefore(t,e.nextSibling)},i.prototype.isChecked=function(){return this.element.checked},i.prototype.isDisabled=function(){return this.options.disabled||this.element.disabled},i.prototype.setPosition=function(e){var t=this.isChecked(),n=this.switcher,i=this.jack;e&&t?t=!1:e&&!t&&(t=!0),t===!0?(this.element.checked=!0,i.style.left=window.getComputedStyle?parseInt(window.getComputedStyle(n).width)-parseInt(window.getComputedStyle(i).width)+"px":parseInt(n.currentStyle.width)-parseInt(i.currentStyle.width)+"px",this.options.color&&this.colorize(),this.setSpeed()):(i.style.left=0,this.element.checked=!1,this.switcher.style.boxShadow="inset 0 0 0 0 "+this.options.secondaryColor,this.switcher.style.borderColor=this.options.secondaryColor,this.switcher.style.backgroundColor=this.options.secondaryColor!==o.secondaryColor?this.options.secondaryColor:"#fff",this.setSpeed())},i.prototype.setSpeed=function(){var e={},t={left:this.options.speed.replace(/[a-z]/,"")/2+"s"};e=this.isChecked()?{border:this.options.speed,"box-shadow":this.options.speed,"background-color":3*this.options.speed.replace(/[a-z]/,"")+"s"}:{border:this.options.speed,"box-shadow":this.options.speed},a(this.switcher,e),a(this.jack,t)},i.prototype.colorize=function(){this.switcher.style.backgroundColor=this.options.color,this.switcher.style.borderColor=this.options.color,this.switcher.style.boxShadow="inset 0 0 0 16px "+this.options.color},i.prototype.handleOnchange=function(){if("function"!=typeof Event&&document.fireEvent)this.element.fireEvent("onchange");else{var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!0),this.element.dispatchEvent(e)}},i.prototype.handleChange=function(){var e=this,t=this.element;t.addEventListener?t.addEventListener("change",function(){e.setPosition()}):t.attachEvent("onchange",function(){e.setPosition()})},i.prototype.handleClick=function(){var e=this,t=this.switcher,n=e.element.parentNode.tagName.toLowerCase(),i="label"===n?!1:!0;this.isDisabled()===!1?(r(t),t.addEventListener?t.addEventListener("click",function(){e.setPosition(i),e.handleOnchange(e.element.checked)}):t.attachEvent("onclick",function(){e.setPosition(i),e.handleOnchange(e.element.checked)})):(this.element.disabled=!0,this.switcher.style.opacity=this.options.disabledOpacity)},i.prototype.markAsSwitched=function(){this.element.setAttribute("data-switchery",!0)},i.prototype.markedAsSwitched=function(){return this.element.getAttribute("data-switchery")},i.prototype.init=function(){this.hide(),this.show(),this.setPosition(),this.markAsSwitched(),this.handleChange(),this.handleClick()}}),e.alias("abpetkov-transitionize/transitionize.js","switchery/deps/transitionize/transitionize.js"),e.alias("abpetkov-transitionize/transitionize.js","switchery/deps/transitionize/index.js"),e.alias("abpetkov-transitionize/transitionize.js","transitionize/index.js"),e.alias("abpetkov-transitionize/transitionize.js","abpetkov-transitionize/index.js"),e.alias("ftlabs-fastclick/lib/fastclick.js","switchery/deps/fastclick/lib/fastclick.js"),e.alias("ftlabs-fastclick/lib/fastclick.js","switchery/deps/fastclick/index.js"),e.alias("ftlabs-fastclick/lib/fastclick.js","fastclick/index.js"),e.alias("ftlabs-fastclick/lib/fastclick.js","ftlabs-fastclick/index.js"),e.alias("switchery/switchery.js","switchery/index.js"),"object"==typeof exports?module.exports=e("switchery"):"function"==typeof define&&define.amd?define(function(){return e("switchery")}):this.Switchery=e("switchery")}(),!function(e){"use strict";function t(e,t){for(var n=0;n<e.length;++n)t(e[n],n)}function n(t,n){this.$select=e(t),this.$select.attr("data-placeholder")&&(n.nonSelectedText=this.$select.data("placeholder")),this.options=this.mergeOptions(e.extend({},n,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=e.proxy(this.options.onChange,this),this.options.onDropdownShow=e.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=e.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=e.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=e.proxy(this.options.onDropdownHidden,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&e("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions"],init:function(t,n,i){var a=e(t),r=ko.toJS(n());if(a.multiselect(r),i.has("options")){var o=i.get("options");ko.isObservable(o)&&ko.computed({read:function(){o(),setTimeout(function(){var e=a.data("multiselect");e&&e.updateOriginalOptions(),a.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:t})}if(i.has("value")){var s=i.get("value");ko.isObservable(s)&&ko.computed({read:function(){s(),setTimeout(function(){a.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(i.has("selectedOptions")){var l=i.get("selectedOptions");ko.isObservable(l)&&ko.computed({read:function(){l(),setTimeout(function(){a.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:t}).extend({rateLimit:100,notifyWhenChangesStop:!0})}ko.utils.domNodeDisposal.addDisposeCallback(t,function(){a.multiselect("destroy")})},update:function(t,n){var i=e(t),a=ko.toJS(n());i.multiselect("setOptions",a),i.multiselect("rebuild")}}),n.prototype={defaults:{buttonText:function(t,n){if(0===t.length)return this.nonSelectedText;if(this.allSelectedText&&t.length===e("option",e(n)).length&&1!==e("option",e(n)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+t.length+")":this.allSelectedText;if(t.length>this.numberDisplayed)return t.length+" "+this.nSelectedText;var i="",a=this.delimiterText;return t.each(function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).text();i+=t+a}),i.substr(0,i.length-2)},buttonTitle:function(t){if(0===t.length)return this.nonSelectedText;var n="",i=this.delimiterText;return t.each(function(){var t=void 0!==e(this).attr("label")?e(this).attr("label"):e(this).text();n+=t+i}),n.substr(0,n.length-2)},optionLabel:function(t){return e(t).attr("label")||e(t).text()},onChange:function(){},onDropdownShow:function(){},onDropdownHide:function(){},onDropdownShown:function(){},onDropdownHidden:function(){},onSelectAll:function(){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="btn-group" />',dropRight:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:n,buildContainer:function(){this.$container=e(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=e(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var t=this.$select.attr("tabindex");t&&this.$button.attr("tabindex",t),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=e(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(e.proxy(function(t,n){var i=e(n),a=i.prop("tagName").toLowerCase();i.prop("value")!==this.options.selectAllValue&&("optgroup"===a?this.createOptgroup(n):"option"===a&&("divider"===i.data("role")?this.createDivider():this.createOptionValue(n)))},this)),e("li input",this.$ul).on("change",e.proxy(function(t){var n=e(t.target),i=n.prop("checked")||!1,a=n.val()===this.options.selectAllValue;this.options.selectedClass&&(i?n.closest("li").addClass(this.options.selectedClass):n.closest("li").removeClass(this.options.selectedClass));var r=n.val(),o=this.getOptionByValue(r),s=e("option",this.$select).not(o),l=e("input",this.$container).not(n);return a&&(i?this.selectAll():this.deselectAll()),a||(i?(o.prop("selected",!0),this.options.multiple?o.prop("selected",!0):(this.options.selectedClass&&e(l).closest("li").removeClass(this.options.selectedClass),e(l).prop("checked",!1),s.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&s.closest("a").css("outline","")):o.prop("selected",!1)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.onChange(o,i),this.options.preventInputChangeEvent?!1:void 0},this)),e("li a",this.$ul).on("mousedown",function(e){return e.shiftKey?!1:void 0}),e("li a",this.$ul).on("touchstart click",e.proxy(function(t){t.stopPropagation();var n=e(t.target);if(t.shiftKey&&this.options.multiple){n.is("label")&&(t.preventDefault(),n=n.find("input"),n.prop("checked",!n.prop("checked")));var i=n.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==n){var a=n.closest("li").index(),r=this.lastToggledInput.closest("li").index();if(a>r){var o=r;r=a,a=o}++r;var s=this.$ul.find("li").slice(a,r).find("input");s.prop("checked",i),this.options.selectedClass&&s.closest("li").toggleClass(this.options.selectedClass,i);for(var l=0,d=s.length;d>l;l++){var c=e(s[l]),u=this.getOptionByValue(c.val());u.prop("selected",i)}}n.trigger("change")}n.is("input")&&!n.closest("li").is(".multiselect-item")&&(this.lastToggledInput=n),n.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",e.proxy(function(t){if(!e('input[type="text"]',this.$container).is(":focus"))if(9===t.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var n=e(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!n.length)return;var i=n.index(n.filter(":focus"));38===t.keyCode&&i>0?i--:40===t.keyCode&&i<n.length-1?i++:~i||(i=0);var a=n.eq(i);if(a.focus(),32===t.keyCode||13===t.keyCode){var r=a.find("input");r.prop("checked",!r.prop("checked")),r.change()}t.stopPropagation(),t.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&e("li.multiselect-group",this.$ul).on("click",e.proxy(function(t){t.stopPropagation();var n=e(t.target).parent(),i=n.nextUntil("li.multiselect-group"),a=i.filter(":visible:not(.disabled)"),r=!0,o=a.find("input");o.each(function(){r=r&&e(this).prop("checked")}),o.prop("checked",!r).trigger("change")},this))},createOptionValue:function(t){var n=e(t);n.is(":selected")&&n.prop("selected",!0);var i=this.options.optionLabel(t),a=n.val(),r=this.options.multiple?"checkbox":"radio",o=e(this.options.templates.li),s=e("label",o);s.addClass(r),this.options.enableHTML?s.html(" "+i):s.text(" "+i);var l=e("<input/>").attr("type",r);this.options.checkboxName&&l.attr("name",this.options.checkboxName),s.prepend(l);var d=n.prop("selected")||!1;l.val(a),a===this.options.selectAllValue&&(o.addClass("multiselect-item multiselect-all"),l.parent().parent().addClass("multiselect-all")),s.attr("title",n.attr("title")),this.$ul.append(o),n.is(":disabled")&&l.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),l.prop("checked",d),d&&this.options.selectedClass&&l.closest("li").addClass(this.options.selectedClass)},createDivider:function(){var t=e(this.options.templates.divider);this.$ul.append(t)},createOptgroup:function(t){var n=e(t).prop("label"),i=e(this.options.templates.liGroup);this.options.enableHTML?e("label",i).html(n):e("label",i).text(n),this.options.enableClickableOptGroups&&i.addClass("multiselect-group-clickable"),this.$ul.append(i),e(t).is(":disabled")&&i.addClass("disabled"),e("option",t).each(e.proxy(function(e,t){this.createOptionValue(t)},this))},buildSelectAll:function(){"number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString());var t=this.hasSelectAll();if(!t&&this.options.includeSelectAllOption&&this.options.multiple&&e("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(e(this.options.templates.divider));var n=e(this.options.templates.li);e("label",n).addClass("checkbox"),this.options.enableHTML?e("label",n).html(" "+this.options.selectAllText):e("label",n).text(" "+this.options.selectAllText),this.options.selectAllName?e("label",n).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):e("label",n).prepend('<input type="checkbox" />');var i=e("input",n);i.val(this.options.selectAllValue),n.addClass("multiselect-item multiselect-all"),i.parent().parent().addClass("multiselect-all"),this.$ul.prepend(n),i.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var t=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=t){if(this.$filter=e(this.options.templates.filter),e("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var n=e(this.options.templates.filterClearBtn);n.on("click",e.proxy(function(){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),e("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(n)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(e){e.stopPropagation()}).on("input keydown",e.proxy(function(t){13===t.which&&t.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(e.proxy(function(){if(this.query!==t.target.value){this.query=t.target.value;var n,i;e.each(e("li",this.$ul),e.proxy(function(t,a){var r=e("input",a).length>0?e("input",a).val():"",o=e("label",a).text(),s="";if("text"===this.options.filterBehavior?s=o:"value"===this.options.filterBehavior?s=r:"both"===this.options.filterBehavior&&(s=o+"\n"+r),r!==this.options.selectAllValue&&o){var l=!1;this.options.enableCaseInsensitiveFiltering&&s.toLowerCase().indexOf(this.query.toLowerCase())>-1?l=!0:s.indexOf(this.query)>-1&&(l=!0),e(a).toggle(l).toggleClass("filter-hidden",!l),e(a).hasClass("multiselect-group")?(n=a,i=l):(l&&e(n).show().removeClass("filter-hidden"),!l&&i&&e(a).show().removeClass("filter-hidden"))}},this))}this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){e("option",this.$select).each(e.proxy(function(t,n){var i=e("li input",this.$ul).filter(function(){return e(this).val()===e(n).val()});e(n).is(":selected")?(i.prop("checked",!0),this.options.selectedClass&&i.closest("li").addClass(this.options.selectedClass)):(i.prop("checked",!1),this.options.selectedClass&&i.closest("li").removeClass(this.options.selectedClass)),e(n).is(":disabled")?i.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):i.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(t,n){e.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var a=t[i];if(null!==a&&void 0!==a){var r=this.getOptionByValue(a),o=this.getInputByValue(a);void 0!==r&&void 0!==o&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&o.closest("li").addClass(this.options.selectedClass),o.prop("checked",!0),r.prop("selected",!0),n&&this.options.onChange(r,!0))}}this.updateButtonText(),this.updateSelectAll()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(t,n){e.isArray(t)||(t=[t]);for(var i=0;i<t.length;i++){var a=t[i];if(null!==a&&void 0!==a){var r=this.getOptionByValue(a),o=this.getInputByValue(a);void 0!==r&&void 0!==o&&(this.options.selectedClass&&o.closest("li").removeClass(this.options.selectedClass),o.prop("checked",!1),r.prop("selected",!1),n&&this.options.onChange(r,!1))}}this.updateButtonText(),this.updateSelectAll()},selectAll:function(t,n){var t="undefined"==typeof t?!0:t,i=e("li input[type='checkbox']:enabled",this.$ul),a=i.filter(":visible"),r=i.length,o=a.length;if(t?(a.prop("checked",!0),e("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(i.prop("checked",!0),e("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),r===o||t===!1)e("option:enabled",this.$select).prop("selected",!0);else{var s=a.map(function(){return e(this).val()}).get();e("option:enabled",this.$select).filter(function(){return-1!==e.inArray(e(this).val(),s)}).prop("selected",!0)}n&&this.options.onSelectAll()},deselectAll:function(t){var t="undefined"==typeof t?!0:t;if(t){var n=e("li input[type='checkbox']:not(:disabled)",this.$ul).filter(":visible");n.prop("checked",!1);var i=n.map(function(){return e(this).val()}).get();e("option:enabled",this.$select).filter(function(){return-1!==e.inArray(e(this).val(),i)}).prop("selected",!1),this.options.selectedClass&&e("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else e("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),e("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&e("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&e("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(n){var i=0,a=this.$select.empty();e.each(n,function(n,r){var o;e.isArray(r.children)?(i++,o=e("<optgroup/>").attr({label:r.label||"Group "+i,disabled:!!r.disabled}),t(r.children,function(t){o.append(e("<option/>").attr({value:t.value,label:t.label||t.value,title:t.title,selected:!!t.selected,disabled:!!t.disabled}))})):o=e("<option/>").attr({value:r.value,label:r.label||r.value,title:r.title,selected:!!r.selected,disabled:!!r.disabled}),a.append(o)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(e){this.options=this.mergeOptions(e)},mergeOptions:function(t){return e.extend(!0,{},this.defaults,this.options,t)},hasSelectAll:function(){return e("li.multiselect-all",this.$ul).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var t=e("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),n=t.length,i=t.filter(":checked").length,a=e("li.multiselect-all",this.$ul),r=a.find("input");i>0&&i===n?(r.prop("checked",!0),a.addClass(this.options.selectedClass),this.options.onSelectAll()):(r.prop("checked",!1),a.removeClass(this.options.selectedClass))}},updateButtonText:function(){var t=this.getSelected();this.options.enableHTML?e(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(t,this.$select)):e(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(t,this.$select)),e(".multiselect",this.$container).attr("title",this.options.buttonTitle(t,this.$select))},getSelected:function(){return e("option",this.$select).filter(":selected")},getOptionByValue:function(t){for(var n=e("option",this.$select),i=t.toString(),a=0;a<n.length;a+=1){var r=n[a];if(r.value===i)return e(r)}},getInputByValue:function(t){for(var n=e("li input",this.$ul),i=t.toString(),a=0;a<n.length;a+=1){var r=n[a];if(r.value===i)return e(r)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(e,t,n){var i=Array.prototype.slice.call(arguments,3);return setTimeout(function(){e.apply(n||window,i)},t)},setAllSelectedText:function(e){this.options.allSelectedText=e,this.updateButtonText()}},e.fn.multiselect=function(t,i,a){return this.each(function(){var r=e(this).data("multiselect"),o="object"==typeof t&&t;r||(r=new n(this,o),e(this).data("multiselect",r)),"string"==typeof t&&(r[t](i,a),"destroy"===t&&e(this).data("multiselect",!1))})},e.fn.multiselect.Constructor=n,e(function(){e("select[data-role=multiselect]").multiselect()})}(window.jQuery),function(e){window.NestedFormEvents=function(){this.addFields=e.proxy(this.addFields,this),this.removeFields=e.proxy(this.removeFields,this)},NestedFormEvents.prototype={addFields:function(t){var n=t.currentTarget,i=e(n).data("association"),a=e("#"+e(n).data("blueprint-id")),r=a.data("blueprint"),o=(e(n).closest(".fields").closestChild("input, textarea, select").eq(0).attr("name")||"").replace(new RegExp("[[a-z_]+]$"),"");if(o)for(var s=o.match(/[a-z_]+_attributes(?=\]\[(new_)?\d+\])/g)||[],l=o.match(/[0-9]+/g)||[],d=0;d<s.length;d++)l[d]&&(r=r.replace(new RegExp("(_"+s[d]+")_.+?_","g"),"$1_"+l[d]+"_"),r=r.replace(new RegExp("(\\["+s[d]+"\\])\\[.+?\\]","g"),"$1["+l[d]+"]"));var c=new RegExp("new_"+i,"g"),u=this.newId();r=e.trim(r.replace(c,u));var p=this.insertFields(r,i,n);return p.trigger({type:"nested:fieldAdded",field:p}).trigger({type:"nested:fieldAdded:"+i,field:p}),!1},newId:function(){return(new Date).getTime()},insertFields:function(t,n,i){var a=e(i).data("target");return a?e(t).appendTo(e(a)):e(t).insertBefore(i)},removeFields:function(t){var n=e(t.currentTarget),i=n.data("association"),a=n.prev("input[type=hidden]");a.val("1");var r=n.closest(".fields");return r.hide(),r.trigger({type:"nested:fieldRemoved",field:r}).trigger({type:"nested:fieldRemoved:"+i,field:r}),!1}},window.nestedFormEvents=new NestedFormEvents,e(document).delegate("form a.add_nested_fields","click",nestedFormEvents.addFields).delegate("form a.remove_nested_fields","click",nestedFormEvents.removeFields)}(jQuery),function(e){e.fn.closestChild=function(t){if(t&&""!=t){var n=[];for(n.push(this);n.length>0;)for(var i=n.shift(),a=i.children(),r=0;r<a.length;++r){var o=e(a[r]);if(o.is(t))return o;n.push(o)}}return e()}}(jQuery),function(e){function n(t,n){var i=e(t),a=e(n),r=i.offset(),o=a.offset(),s=i.clone(),l=a.clone(),d=o.top+a.height()-r.top,c=0,u=0,p=o.left+a.width()-r.left,h=0,m=0;return i.css("opacity",0),a.css("opacity",0),s.insertAfter(i).css({position:"absolute",width:i.outerWidth(),height:i.outerHeight()}).offset(r).css("z-index","999"),l.insertAfter(a).css({position:"absolute",width:a.outerWidth(),height:a.outerHeight()}).offset(o).css("z-index","999"),r.top!=o.top&&(c=d-i.height()),u=d-a.height(),r.left!=o.left&&(h=p-i.width()),m=p-a.width(),s.animate({top:"+="+c+"px",left:"+="+h+"px"},"slow",function(){a.insertBefore(this).css("opacity",1),e(this).remove()
}),l.animate({top:"-="+u+"px",left:"-="+m+"px"},"slow",function(){i.insertBefore(this).css("opacity",1),e(this).remove()}),i}e.fn.swap=function(i,a){return t=this,1==t.length&&1==i.length&&void 0==a?n(t,i):t.length>1&&"number"==typeof i&&"number"==typeof a?(n(t[i],t[a]),t):(e.error("Argument Error!"),void 0)}}(jQuery),function(){var e=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function t(n){function i(){!e&&this._init&&this._init.apply(this,arguments)}var a=this.prototype;e=!0;var r=new this;e=!1;for(var o in n)r[o]="function"==typeof n[o]&&"function"==typeof a[o]?function(e,t){return function(){var n=this._super;this._super=function(t){return a[e].apply(this,t||[])};var i=t.apply(this,arguments);return this._super=n,i}}(o,n[o]):n[o];return i.prototype=r,i.prototype.constructor=i,i.extend=t,i}}(),function($){function camelCase(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var e=camelCase(this.name);$[e]=this,$.fn[e]=function(t){var n=Array.prototype.slice.call(arguments,1);return $[e]._isNotChained(t,n)?$[e][t].apply($[e],[this[0]].concat(n)):this.each(function(){if("string"==typeof t){if("_"===t[0]||!$[e][t])throw"Unknown method: "+t;$[e][t].apply($[e],[this].concat(n))}else $[e]._attach(this,t)})}},setDefaults:function(e){$.extend(this.defaultOptions,e||{})},_isNotChained:function(e,t){return"option"===e&&(0===t.length||1===t.length&&"string"==typeof t[0])?!0:$.inArray(e,this._getters)>-1},_attach:function(e,t){if(e=$(e),!e.hasClass(this._getMarker())){e.addClass(this._getMarker()),t=$.extend({},this.defaultOptions,this._getMetadata(e),t||{});var n=$.extend({name:this.name,elem:e,options:t},this._instSettings(e,t));e.data(this.name,n),this._postAttach(e,n),this.option(e,t)}},_instSettings:function(){return{}},_postAttach:function(){},_getMetadata:function(elem){try{var data=elem.data(this.name.toLowerCase())||"";data=data.replace(/'/g,'"'),data=data.replace(/([a-zA-Z0-9]+):/g,function(e,t,n){var i=data.substring(0,n).match(/"/g);return i&&i.length%2!==0?t+":":'"'+t+'":'}),data=$.parseJSON("{"+data+"}");for(var name in data){var value=data[name];"string"==typeof value&&value.match(/^new Date\((.*)\)$/)&&(data[name]=eval(value))}return data}catch(e){return{}}},_getInst:function(e){return $(e).data(this.name)||{}},option:function(e,t,n){e=$(e);var i=e.data(this.name);if(!t||"string"==typeof t&&null==n){var a=(i||{}).options;return a&&t?a[t]:a}if(e.hasClass(this._getMarker())){var a=t||{};"string"==typeof t&&(a={},a[t]=n),this._optionsChanged(e,i,a),$.extend(i.options,a)}},_optionsChanged:function(){},destroy:function(e){e=$(e),e.hasClass(this._getMarker())&&(this._preDestroy(e,this._getInst(e)),e.removeData(this.name).removeClass(this._getMarker()))},_preDestroy:function(){}}),$.JQPlugin={createPlugin:function(e,t){"object"==typeof e&&(t=e,e="JQPlugin"),e=camelCase(e);var n=camelCase(t.name);JQClass.classes[n]=JQClass.classes[e].extend(t),new JQClass.classes[n]}}}(jQuery),function(e){var t="more";e.JQPlugin.createPlugin({name:t,defaultOptions:{length:100,leeway:5,wordBreak:!1,ignoreTags:["br","hr","img"],toggle:!0,ellipsisText:"...",moreText:"Show more",lessText:"Show less",andNext:"",onChange:null},_ellipsisClass:t+"-ellipsis",_linkClass:t+"-link",_hiddenClass:t+"-hidden",_tagName:/^<(\w+).*>$/,_instSettings:function(e){return{html:e.html()}},_optionsChanged:function(t,n,i){var a=this;e.extend(n.options,i),this._preDestroy(t,n);var r="";if(t.text().length>n.options.length+n.options.leeway){for(var o=t.html().match(/(<[^>]+>)|([^<]+)/g),s=0,l=0,d=[];s<o.length;s++)if("<"===o[s][0])"/"===o[s][1]||"/"===o[s][o[s].length-2]?d.pop():-1===e.inArray(o[s].toLowerCase().replace(this._tagName,"$1"),n.options.ignoreTags)&&d.push(o[s]);else{if(l+o[s].length>n.options.length)break;l+=o[s].length}if(l=n.options.length-l,n.options.wordBreak){var c=o[s].substring(0,l+1).replace("\n"," ").match(/^.*\W/m);l=c?c[0].length-1:l}var u=function(e){for(var t="",n=e.length-1;n>=0;n--)t+="</"+e[n].replace(a._tagName,"$1")+">";return t};r=o.slice(0,s).join("")+o[s].substring(0,l)+u(d)+'<span class="'+this._ellipsisClass+'">'+n.options.ellipsisText+'</span><span class="'+this._hiddenClass+'">'+d.join("")+o[s].substring(l)+u(d)+o.slice(s+1).join("")+"</span>"}else i.andNext&&t.nextAll(i.andNext).length&&(r=t.html());r&&(r+='<a href="#" class="'+this._linkClass+'">'+n.options.moreText+"</a>",t.html(r).find("a."+this._linkClass).click(function(r){var o=e(this),s=o.html()===n.options.moreText;return o.html(s?n.options.lessText:n.options.moreText).siblings("span."+a._ellipsisClass+",span."+a._hiddenClass).toggle(),i.andNext&&o.parent().nextAll(i.andNext).toggle(),n.options.toggle||o.remove(),e.isFunction(n.options.onChange)&&n.options.onChange.apply(t,[s]),r.stopPropagation(),!1}),i.andNext&&t.nextAll(i.andNext).hide())},_preDestroy:function(e,t){e.html(t.html),t.options.andNext&&e.nextAll(t.options.andNext).show()}})}(jQuery),function(){var e=[].slice;$.extend({pageReady:function(){var t,n,i;return t=2<=arguments.length?e.call(arguments,0,i=arguments.length-1):(i=0,[]),n=arguments[i++],$(document).ready(function(){var e,i,a,r;for(r=[],i=0,a=t.length;a>i;i++){if(e=t[i],$("body"+e).length){n();break}r.push(void 0)}return r})},initPageDown:function(){var e,t;return e=Markdown.getSanitizingConverter(),Markdown.Extra.init(e,{extensions:["fenced_code_gfm","tables","footnotes","smartypants","newlines","strikethrough","smart_strong"],highlighter:"highlight",table_class:"table table-bordered table-striped"}),t=new Markdown.Editor(e),t.run(),t}})}.call(this),function(e){e.fn.bootstrapFileInput=function(){this.each(function(t,n){var i=e(n);if("undefined"==typeof i.attr("data-bfi-disabled")){var a="Browse";"undefined"!=typeof i.attr("title")&&(a=i.attr("title"));var r="";i.attr("class")&&(r=" "+i.attr("class")),i.wrap('<a class="file-input-wrapper btn btn-default '+r+'"></a>').parent().prepend(e("<span></span>").html(a))}}).promise().done(function(){e(".file-input-wrapper").mousemove(function(t){var n,i,a,r,o,s,l,d;i=e(this),n=i.find("input"),a=i.offset().left,r=i.offset().top,o=n.width(),s=n.height(),l=t.pageX,d=t.pageY,moveInputX=l-a-o+20,moveInputY=d-r-s/2,n.css({left:moveInputX,top:moveInputY})}),e("body").on("change",".file-input-wrapper input[type=file]",function(){var t;if(t=e(this).val(),e(this).parent().next(".file-input-name").remove(),t=e(this).prop("files")&&e(this).prop("files").length>1?e(this)[0].files.length+" files":t.substring(t.lastIndexOf("\\")+1,t.length)){var n=e(this).data("filename-placement");"inside"===n?(e(this).siblings("span").html(t),e(this).attr("title",t)):e(this).parent().after('<span class="file-input-name">'+t+"</span>")}})})};var t="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";e("link[rel=stylesheet]").eq(0).before(t)}(jQuery),function(e){e.fn.bootstrapValidator&&(e.fn.bootstrapValidator.validators.json={validate:function(t,n){var i=e.trim(n.val());return""==i?!0:i.match(/^(\[\s*)?\{/)?window.ready.validateJSON(i,null,!1):!0}})}(window.jQuery),function(){var e;e=function(){return $.initPageDown(),$("#wmd-input").closest("form").on("submit",function(){var e;return e=$.trim($("#wmd-preview").html()),$("#content_html").val(e),!0})},$.pageReady(".answers.edit",".answers.update",function(){return e()})}.call(this),function(){var e;null==window.ready&&(window.ready={}),e=window.ready,e.AuthSettingForm=function(){var e,t,n,i,a,r,o,s;return a=$("#basicAuthFields"),e=$("#apiKeyFields"),t=$("#apiKeyPrefix"),o=$("#oauth2Fields"),r=$("#implicitFields"),i=$("#authcodeFields"),s=$("#oauth_scopes_form_container"),n=$("#rest_auth_settings_attributes_0_auth_type,#auth_setting_auth_type"),n.change(function(){var t;return t=$(this).val(),"basicAuth"===t?a.show():a.hide(),"apiKey"===t?e.show():e.hide(),"oauth2"===t?o.show():o.hide(),"oauth2"===t?s.show():s.hide()}),$("#rest_auth_settings_attributes_0_pass_as,#auth_setting_pass_as").change(function(){return"query"===$(this).val()?(t.find('[name="auth_setting[api_key_prefix]"]').val(""),t.hide()):t.show()}),$("#rest_auth_settings_attributes_0_implicit_granted,#auth_setting_implicit_granted").change(function(){return $(this).prop("checked")?r.show():r.hide()}),$("#rest_auth_settings_attributes_0_authcode_granted,#auth_setting_authcode_granted").change(function(){return $(this).prop("checked")?i.show():i.hide()})},e.authSettingValidationOptions={},e.authSettingValidationOptions.name={message:"The name is not valid",validators:{notEmpty:{message:"The name is required and cannot be empty"},stringLength:{max:100,message:"The name muste be less than 100 characters long"}}},e.authSettingValidationOptions.description={message:"The description is not valid",validators:{stringLength:{max:200,message:"The description must be less than 200 characters long"}}},e.authSettingValidationOptions.keyname={message:"The keyname is not valid",validators:{notEmpty:{message:"The keyname is required and cannot be empty"},stringLength:{max:40,message:"The keyname must be less than 40 characters long"},regexp:{regexp:/^[\w-]*$/,message:"The keyname can contain only letters, numbers, underscore(_) and dash(-)"}}},e.authSettingValidationOptions.implicit_login_url={message:"The authentication url is not valid",validators:{notEmpty:{message:"The authentication url is required and cannot be empty"},uri:{allowLocal:!0,message:"The authentication url is not a valid url"},stringLength:{max:100,message:"The authentication url must be less than 100 characters long"}}},e.authSettingValidationOptions.implicit_token_name={message:"The access token name is not valid",validators:{notEmpty:{message:"The access token name is required and cannot be empty"},stringLength:{max:20,message:"The access token name must be less than 20 characters long"},regexp:{regexp:/^[\w-]*$/,message:"The access token name can contain only letters, numbers, underscore(_) and dash(-)"}}},e.authSettingValidationOptions.authcode_req_url={message:"The authentication url is not valid",validators:{notEmpty:{message:"The authentication url is required and cannot be empty"},uri:{allowLocal:!0,message:"The authentication url is not a valid url"},stringLength:{max:100,message:"The authentication url must be less than 100 characters long"}}},e.authSettingValidationOptions.authcode_client_id_name={message:"The client id name is not valid",validators:{notEmpty:{message:"The client id name is required and cannot be empty"},stringLength:{max:20,message:"The client id name must be less than 20 characters long"},regexp:{regexp:/^[\w-]*$/,message:"The client id name can contain only letters, numbers, underscore(_) and dash(-)"}}},e.authSettingValidationOptions.authcode_client_secret_name={message:"The client secret name is not valid",validators:{notEmpty:{message:"The client secret name is required and cannot be empty"},stringLength:{max:20,message:"The client secret name must be less than 20 characters long"},regexp:{regexp:/^[\w-]*$/,message:"The client secret name can contain only letters, numbers, underscore(_) and dash(-)"}}},e.authSettingValidationOptions.authcode_url={message:"The access token url is not valid",validators:{notEmpty:{message:"The access token url is required and cannot be empty"},uri:{allowLocal:!0,message:"The access token url is not a valid url"},stringLength:{max:100,message:"The access token url must be less than 100 characters long"}}},e.authSettingValidationOptions.authcode_token_name={message:"The access token name is not valid",validators:{notEmpty:{message:"The access token name is required and cannot be empty"},stringLength:{max:20,message:"The access token name must be less than 20 characters long"},regexp:{regexp:/^[\w-]*$/,message:"The access token name can contain only letters, numbers, underscore(_) and dash(-)"}}},e.authSettingValidationOptions.oauth_scope_name={selector:".oauthScopeName",message:"The name is not valid",validators:{notEmpty:{message:"The name is required and cannot be empty"},stringLength:{max:200,message:"The name must be less than 200 characters long"}}},e.authSettingValidationOptions.oauth_scope_description={selector:".oauthScopeDescription",message:"The description is not valid",validators:{stringLength:{max:200,message:"The description must be less than 200 characters long"}}},e.AuthSettingFormValidation=function(){var t,n,i,a;return t=$("#authSettingForm"),i=$(".has-error"),a=e.authSettingValidationOptions,n={message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"auth_setting[name]":a.name,"auth_setting[description]":a.description,"auth_setting[keyname]":a.keyname,"auth_setting[implicit_login_url]":a.implicit_login_url,"auth_setting[implicit_token_name]":a.implicit_token_name,"auth_setting[authcode_req_url]":a.authcode_req_url,"auth_setting[authcode_client_id_name]":a.authcode_client_id_name,"auth_setting[authcode_client_secret_name]":a.authcode_client_secret_name,"auth_setting[authcode_url]":a.authcode_url,"auth_setting[authcode_token_name]":a.authcode_token_name,oauthScopeName:a.oauth_scope_name,oauthScopeDescription:a.oauth_scope_description}},t.on("init.form.bv",function(){return i.addClass("has-error").on("click",function(){return $(this).find("span.help-block").remove()})}).bootstrapValidator(n).on("nested:fieldAdded",function(e){return t.bootstrapValidator("addField",e.field.find(".oauthScopeName"),a.oauth_scope_name),t.bootstrapValidator("addField",e.field.find(".oauthScopeDescription"),a.oauth_scope_description)})},e.setupWindownClosingTipsForNewAuth=function(){var e;return(null!=(e=window.opener)?e.newAuthCallback:void 0)?$("#winCloseTips").show():void 0},e.handleNewAuthCallback=function(e){var t,n;return t=null!=(n=window.opener)?n.newAuthCallback:void 0,t?(t(e),window.close()):void 0}}.call(this),function(){}.call(this),function(){null==window.ready&&(window.ready={}),window.ready.documentTabValidation=function(){var e,t;return e=$("#editDocumentForm"),t={message:"This value is invalid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"document[rest_attributes][tos_url]":{validators:{uri:{message:"The terms of service URL is not valid"}}},"document[logo_url]":{validators:{uri:{message:"The company logo URL is not valid"}}},"document[rest_attributes][contact_email]":{validators:{emailAddress:{message:"The contact email is not a valid email address"}}},"document[bootstrap_css_url]":{validators:{uri:{message:"The theme url is not valid"}}},"document[highlight_css_url]":{validators:{uri:{message:"The theme url is not valid"}}}}},e.bootstrapValidator(t)}}.call(this),function(){}.call(this),function(){var e,t,n,i,a,r;t=function(){var e,t,n;return n="#response_table",0!==n.length?(t=$("#http_method_response_attributes_data_type"),e=$("#http_method_response_attributes_array"),t.change(function(){return"void"===$(this).val()?e.prop({checked:!1,disabled:!0}):e.prop({disabled:!1})}),t.change()):void 0},e=function(){var e,t,n,i;return e=$("#error_responses_form_container"),0!==e.length?(i=e.find("table.error-responses"),n=$("#chooseErrorResponse"),t=$("select",n),$("#newErrorResponse").click(function(e){return e.preventDefault(),$("#newErrorResponseDialog").modal("show")}),i.on("click",".delete",function(){var a,r,o,s,l,d;return r=$(this).closest("tr"),l=r.data("id"),o=r.find("td.code").text(),d=r.find("td.message").text(),s=r.find("td.error-model").html(),a=$("<option></option>"),a.attr("value",l),a.data("code",o),a.data("message",d),a.data("error-model",s),a.text(""+o+" - "+d),t.append(a),n.show().next("span").show(),r.remove(),0===$("tbody tr",i).length&&($(".empty",e).show(),i.hide()),void 0}),t.on("change",function(){var a,r;return a=t.find("option:selected"),""!==a.val()?(r="_all"===a.val()?_.select($("option",t),function(e){var t;return t=$(e).val(),t&&"_all"!==t}):a,_.each(r,function(t){var n,r,o,s,l;return a=$(t),s=a.val(),r=a.data("code"),l=a.data("message"),o=a.data("error-model"),n=$('<tr>\n<td class="code"></td>\n<td class="message"></td>\n<td class="error-model"></td>\n<td style="font-size:1.2em">\n  <a class="delete" href="javascript:"><span class="glyphicon glyphicon-remove"></span></a>\n  <input type="hidden" name="http_method[error_response_ids][]"value="'+s+'">\n</td>\n</tr>'),n.data("id",s),n.find("td.code").text(r),n.find("td.message").text(l),n.find("td.error-model").html(o),i.append(n).show(),$(".empty",e).hide(),a.remove()}),t.val(""),2===$("option",t).length?n.hide().next("span").hide():void 0):void 0})):void 0},$(function(){return t(),e()}),null==window.ready&&(window.ready={}),n=function(e,t){var n,i,a,r;return n=e.closest(".fields"),r=e.prop("checked"),r?(i=_.find(n.prevAll(".fields:visible").toArray().reverse(),function(e){return!$('[data-field="required"]',e).prop("checked")}),i?setTimeout(function(){return new PNotify({type:"info",text:'"Required" parameters are automatically placed before "Optional" parameters.'}),n.slideUp("fast",function(){return n.insertBefore(i),n.slideDown(function(){return"function"==typeof t?t(n):void 0})})},300):"function"==typeof t?t(n):void 0):(a=_.find(n.nextAll(".fields:visible").toArray().reverse(),function(e){return $('[data-field="required"]',e).prop("checked")}),a?setTimeout(function(){return new PNotify({type:"info",text:'"Required" parameters are automatically placed before "Optional" parameters.'}),n.slideUp("fast",function(){return n.insertAfter(a),n.slideDown(function(){return"function"==typeof t?t(n):void 0})})},300):"function"==typeof t?t(n):void 0)},i=function(e){var t,n,i;return n=e.closest(".fields"),t=$('[data-field="default"]',n),i=e.prop("checked"),t.prop({disabled:i})},window.ready.setupSortingParameters=function(){var e,t,a,r,o,s;if(t=$("#parameters"),r=function(){var e;return(e=_.find($(".fields:visible",t),function(e){return!$('[data-field="required"]',e).prop("checked")}))?_.each($(".fields:visible",t),function(t){return $('[data-field="required"]',t).prop("checked")?$(t).insertBefore(e):void 0}):void 0},o=$(".fields",t).length,o>1)for(e=$('.position[value="1"]',t).closest(".fields"),a=s=o;2>=o?2>=s:s>=2;a=2>=o?++s:--s)$(".position[value='"+a+"']",t).closest(".fields").insertAfter(e);return r(),t.on("click",".move-upwards",function(e){var t,n,i,a;for(e.preventDefault(),t=$(this).closest(".fields"),n=t.prev(".fields");;){if(0===n.length||n.is(":visible"))break;n=n.prev(".fields")}return n.length?(i=n.find('[data-field="required"]').prop("checked"),a=t.find('[data-field="required"]').prop("checked"),i===a?t.swap(n):new PNotify({type:"info",text:'"Required" parameters are automatically placed before "Optional" parameters.'})):void 0}),t.on("click",".move-downwards",function(e){var t,n,i,a;for(e.preventDefault(),t=$(this).closest(".fields"),n=t.next(".fields");;){if(0===n.length||n.is(":visible"))break;n=n.next(".fields")}return n.length?(i=n.find('[data-field="required"]').prop("checked"),a=t.find('[data-field="required"]').prop("checked"),i===a?t.swap(n):new PNotify({type:"info",text:'"Required" parameters are automatically placed before "Optional" parameters.'})):void 0}),t.on("change",'[data-field="required"]',function(){var e;return e=$(this),n(e),i(e)}),$("#httpMethodForm").submit(function(){return $(".fields:visible",t).each(function(e,t){return $(t).find(".position").val(e+1)})})},window.ready.guessFormEncoded=function(e){var t;return e=$.trim(e).replace(/\+/g,"%20"),t=e.split("&"),_.map(t,function(e){var t,n,i;return i=e.split("="),t=i[0],n=i[1],{key:decodeURIComponent(t),value:decodeURIComponent(n)}})},window.ready.guessSampleDataType=function(e,t,n){return $.ajax({type:"POST",url:e,data:t,success:function(e){return n(e)}})},window.ready.guessPrimitiveType=function(e){return e=$.trim(e),""===e?null:e.match(/^-?\d+$/)?"int32":e.match(/^-?\d+\.\d+$/)?"float":e.match(/^(true|false)$/)?"boolean":"string"},r=function(e,t,n){var i,a,r,o,s;return a=$("#parameters"),o="query"===e,o?(s=".query.parameter",i=$("#addUrlQuery"),n(s)):(s=".form.parameter",i=$("#addFormData"),n(s),n(".body.parameter")),(r=function(){var e;if(0!==t.length)return e=t.shift(),_.find($(s,a),function(t){var n,i;return n=$(t),i=n.find('[data-field="name"]').val(),i===e.name?n.closest(".fields").remove():void 0}),i.click(),setTimeout(function(){var t,n,i,o;return i=_.find(a.find(s).toArray().reverse(),function(e){var t;return t=$(e),t.closest(".fields").is(":visible")&&""===t.find('[data-field="name"]').val()}),t=$(i),o=e.format||e.parameter_type||e.data_type,!o&&e.example&&(o=ready.guessPrimitiveType(e.example)),"integer"===o&&(o="int32"),"number"===o&&(o="float"),e.array&&(o="array_"+o),o&&t.find('[data-field="parameter_type"]').val(o).change(),"Y"===e.required&&(n=t.find('[data-field="required"]').click()),delete e.format,delete e.parameter_type,delete e.data_type,delete e.required,_.each(e,function(e,n){var i;return i=t.find("[data-field='"+n+"']"),i.is(":checkbox")?i.prop("checked",i.val()===e).change():i.val(e).keyup().change()}),r()},200)})()},window.ready.setupGuessParameterFromSampleBody=function(e,t,n){var i,a;return $("#guess").click(function(e){var i,a,o,s,l;if(e.preventDefault(),o=$("#http_method_example_request").val(),!o)return $("#http_method_example_request").focus(),void 0;if(a=window.ready,a.mightBeJSON(o)){if(!a.validateJSON(o,"Sample HTTP Body"))return;return $("#modelName").val(""),$("#modelUpdateExisting").prop("checked",!1),$("#modelNameDialog").modal("show")}return a.mightBeXML(o)?($("#modelName").val(null!=(s=(null!=(l=o.match(/^<(\w+)/))?l:[])[1])?s:""),$("#modelUpdateExisting").prop("checked",!1),$("#modelNameDialog").modal("show")):a.mightBeFormEncoded(o)?(i=a.guessFormEncoded(o).map(function(e){return{name:e.key,example:e.value}}),r("form",i,t,n)):void 0}),i=$("#guess").data("url"),a=function(t){var n,i,a,r;if("model"===t.data_type)return $("#addBody").click(),a=$('.parameter.body select[data-field="parameter_type"]',e),0===$('option[value="'+t.data_model_id+'"]',a).length&&(i=$("<option></option>"),i.text(t.data_model_name).attr("value",t.data_model_id),$('optgroup[label="Model"]',a).append(i),n=$("<option></option>"),n.text("["+t.data_model_name+"]").attr("value","array_"+t.data_model_id),$('optgroup[label="Array"]',a).append(n)),r=t.array?"array_"+t.data_model_id:t.data_model_id,a.select2("val",r).change()},$("#modelNameDialog form").on("submit",function(e){var t;return e.preventDefault(),t={sample:$.trim($("#http_method_example_request").val()),name:$("#modelName").val(),update_existing:$("#modelUpdateExisting").prop("checked")},ready.guessSampleDataType(i,t,function(e){return e.error?alert(e.error):(a(e.info),$("#modelNameDialog").modal("hide"))})})},window.ready.setupImportFromHtmlTable=function(e){return $(".import-from-html-tabel .preview-button").click(function(t){var n,i,a,r,o;return t.preventDefault(),n=$(this).closest(".import-from-html-tabel"),o=n.data("url"),r=n.data("import-type"),a=CKEDITOR.instances.htmlTableField.getData(),i=function(t){var i;return t.error?(alert(t.error),void 0):(i=$(".guess-results tbody",n),i.empty(),_.each(t.parameters,function(e){var t,n;return t=$("<tr></tr>"),n=["name","data_type","description","required"],"parameter"===r&&n.push("default"),_.each(n,function(n){var i,a,r,o;return i=$("<td></td>"),"data_type"===n?(o=e[n],r=e.format,a=e.array,o&&(r&&(o=""+o+" ("+r+")"),a&&(o="array of "+o)),i.text(o)):"required"===n?i.text("Y"===e[n]?"yes":"no"):i.text(e[n]),t.append(i)}),i.append(t)}),$(".guess-results .help-block",n).removeClass("hide"),"function"==typeof e?e(t):void 0)},$.ajax({type:"POST",url:o,data:{html:a,import_type:r},success:i})})},window.ready.resetImportFromHtmlTable=function(e){return $(".guess-results .help-block",e).addClass("hide"),$(".guess-results tbody",e).empty(),CKEDITOR.instances.htmlTableField.setData("")},window.ready.setupGuessParametersFromHtmlTable=function(e,t){var n,i,a;return i=$("#guessFromHtmlTable"),n=$("#htmlTableDialog"),a=[],i.click(function(e){return e.preventDefault(),$("#htmlTableDialog").modal("show")}),window.ready.setupImportFromHtmlTable(function(e){return a=e.parameters,$(".modal-footer",n).removeClass("hide")}),$("#setParametersFromHtmlTable").click(function(i){var o,s;return i.preventDefault(),s=$("#http_method_http_method").val(),o="GET"===s||"HEAD"===s?"query":"form",r(o,a,e,t),window.ready.resetImportFromHtmlTable($(".import-from-html-tabel",n)),$(".modal-footer",n).addClass("hide"),n.modal("hide")})},window.ready.httpMethodWizardBasisFormValidation=function(){var e,t,n;return e=$("#new_endpoint"),t=$(".has-error",e),n={message:"This value is invalid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"http_method[uri]":{message:"The URL is invalid",trigger:"blur",validators:{notEmpty:{message:"The URL is required and cannot be empty"},regexp:{regexp:/^\/\S*$/,message:"The url must start with '/' and can not contain spaces"}}},"http_method[method_name]":{message:"The method name is invalid",validators:{notEmpty:{message:"The method name is required and cannot be blank"},stringLength:{max:100,message:"The method name must be less than 100 characters long"},regexp:{regexp:/^[a-z_]\w*$/i,message:"The method name must start with letter and contains only letters or numbers"}}},"http_method[example_response]":{message:"The sample response is not valid",validators:{json:{message:"Invalid JSON. Please use http://jsonlint.com to validate the JSON."}}}}},e.on("init.form.bv",function(){return t.addClass("has-error")}).bootstrapValidator(n)},window.ready.requestDefinitionFormValidation=function(){var e,t,a;return e=$("#httpMethodForm"),t=$(".has-error",e),a={message:"This value is invalid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"http_method[uri]":{message:"The URL is invalid",trigger:"blur",validators:{notEmpty:{message:"The URL is required and cannot be empty"},regexp:{regexp:/^\/\S*$/,message:"The url must start with '/' and can not contain spaces"}}},"http_method[method_name]":{message:"The name is invalid",validators:{notEmpty:{message:"The method name is required and cannot be empty"},regexp:{regexp:/^[a-z_]\w*$/i,message:"The method name must start with letter and contains only letters or numbers"}}},"http_method[summary]":{validators:{stringLength:{max:120,message:"The summary must be less than 120 characters long"}}},parameterName:{message:"The name is invalid",selector:".parameterName",validators:{notEmpty:{message:"The name is required and cannnot be empty"},stringLength:{max:40,message:"The name must be less than 40 characters long"},regexp:{regexp:/^[\[\]0-9a-zA-Z_-]+$/,message:'Parameter name must contain only letters, numbers, "_", "-", "[" and "]"'},callback:{message:'Content-Type is determined automatically. Please review the HTTP request in the "Request Preview" tab.',callback:function(e,t,n){var i;return i=n.val(),i.match(/^content-type$/i)?!1:!0}}}},parameterDescription:{message:"The description is invalid",selector:".parameterDescription",validators:{notEmpty:{message:"The description is required and cannot be empty"}}},parameterExample:{selector:".parameterExample",validators:{stringLength:{max:255,message:"The sample value is too long, please enter at most 255 characters"}}}}},e.on("init.form.bv",function(){return t.addClass("has-error")}).bootstrapValidator(a).on("nested:fieldAdded",function(t){var a,r,o,s;return s=t.field.find(".parameterName"),e.bootstrapValidator("addField",s,{message:"The name is invalid",validators:{notEmpty:{message:"The name is required and cannnot be empty"},stringLength:{max:40,message:"The name must be less than 40 characters long"},regexp:{regexp:/^[\[\]0-9a-zA-Z_-]+$/,message:'Parameter name must contain only letters, numbers, "_", "-", "[" and "]"'},callback:{message:'Content-Type is determined automatically. Please review the HTTP request in the "Request Preview" tab.',callback:function(e,t,n){var i;return i=n.val(),i.match(/^content-type$/i)?!1:!0}}}}),r=t.field.find(".parameterDescription"),e.bootstrapValidator("addField",r,{message:"The description is invalid",validators:{notEmpty:{message:"The description is required and cannot be empty"}}}),o=t.field.find(".parameterExample"),e.bootstrapValidator("addField",o,{validators:{stringLength:{max:255,message:"The sample value is too long, please enter at most 255 characters"}}}),a=t.field.find('[data-field="required"]'),n(a,function(e){return e.find("input[type=text]:enabled:first").focus()}),i(a)})},window.ready.responseDefinitionFormValidation=function(){var e,t,n,i,a,r,o;return e=$("#httpMethodForm"),t=$(".has-error",e),a={message:"header name is invalid",selector:".headerName",validators:{notEmpty:{message:"header name is required and cannnot be empty"},stringLength:{max:100,message:"header name must be less than 100 characters long"},regexp:{regexp:/^[\w-]+$/,message:'header name must contain only letters, numbers, "_", and "-"'}}},n={message:"The description is invalid",selector:".headerDescription",validators:{stringLength:{max:200,message:"description must be less than 200 characters long"}}},i={message:"The example is invalid",selector:".headerExample",validators:{stringLength:{max:200,message:"example must be less than 200 characters long"}}},r={message:"This value is invalid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"http_method[uri]":{message:"The URL is invalid",trigger:"blur",validators:{notEmpty:{message:"The URL is required and cannot be empty"},regexp:{regexp:/^\/\S*$/,message:"The url must start with '/' and can not contain spaces"}}},"http_method[response_attributes][description]":{message:"The description is invalid",validators:{stringLength:{max:200,message:"The description must be less than 200 characters"}}},"http_method[example_response]":{message:"The sample response is not valid",validators:{json:{message:"Invalid JSON. Please use http://jsonlint.com to validate the JSON."}}},headerName:a,headerDescription:n,headerExample:i}},e.on("init.form.bv",function(){return t.addClass("has-error")}).on("nested:fieldAdded",function(t){return e.bootstrapValidator("addField",t.field.find(".headerName"),a),e.bootstrapValidator("addField",t.field.find(".headerDescription"),n),e.bootstrapValidator("addField",t.field.find(".headerExample"),i)}).bootstrapValidator(r),o=function(t){var n,i;if(i=$("#http_method_response_attributes_format").val(),"int32"===i||"int64"===i)n={validators:{integer:{message:"Please enter a valid integer"}}};else{if("float"!==i&&"double"!==i)return;n={validators:{numeric:{message:"Please enter a valid number"}}}}return e.bootstrapValidator("removeField","http_method[response_attributes][minimum]"),e.bootstrapValidator("removeField","http_method[response_attributes][maximum]"),e.bootstrapValidator("addField","http_method[response_attributes][minimum]",n),e.bootstrapValidator("addField","http_method[response_attributes][maximum]",n),t?(e.bootstrapValidator("revalidateField","http_method[response_attributes][minimum]"),e.bootstrapValidator("revalidateField","http_method[response_attributes][maximum]")):void 0},$("#http_method_response_attributes_format").change(function(){return o(!0)}),o(!1)},window.ready.apiDefinitionFormValidation=function(){var e,t,n;return e=$("#httpMethodForm"),t=$(".has-error",e),n={message:"This value is invalid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"http_method[class_description]":{message:"The class description is invalid",validators:{notEmpty:{message:"The class description is required and cannot be blank"}}},"http_method[method_name]":{message:"The method name is invalid",validators:{notEmpty:{message:"The method name is required and cannot be blank"},stringLength:{max:100,message:"The method name must be less than 100 characters long"},regexp:{regexp:/^[0-9a-z_]+$/i,message:"The method name must be letters, numbers and underscore(_)"}}},"http_method[synopsis]":{message:"The description is invalid",validators:{notEmpty:{message:"The description is required and cannot be blank"}}}}},e.on("init.form.bv",function(){return t.addClass("has-error")
}).bootstrapValidator(n)},window.ready.setupEndpointTryTab=function(){var e,t,n,i,a,r,o,s,l,d,c;return t=$("#parametersForm"),i=$('[type="submit"]',t),e=$("#resultContainer"),n=new Spinner,a=5,r=3e3,l=null,c=0,d=function(){return $("#collapseRequest, #collapseResponse").find("pre > code").each(function(e,t){return hljs.highlightBlock(t)})},s=function(t){var a,r,o,s;return t.request?$("#collapseRequest pre").show().find("code").text(t.request):$("#collapseRequest pre").hide(),t.response?($("#collapseResponse pre ._headers").text(null!=(a=null!=(r=t.response)?r.headers:void 0)?a:""),$("#collapseResponse pre ._body").text(null!=(o=null!=(s=t.response)?s.body:void 0)?o:""),$("#collapseResponse ._results").show()):$("#collapseResponse ._results").hide(),t.error?$("#collapseResponse ._error").text(t.error).show():$("#collapseResponse ._error").hide(),d(),n.stop(),i.prop("disabled",!1),e.find("> .panel").show()},o=function(){return c+=1,$.ajax({url:l,type:"GET",success:function(e){return null===e?c>a?s({error:"Our server seems busy at the moment. Please try again"}):setTimeout(o,r):s(e)}})},t.on("ajax:send",function(){return i.prop("disabled",!0),e.find("> .panel").hide(),window.scrollTo(0,0),n.spin(e[0])}),t.on("ajax:error",function(e,t,n,i){return s({error:i})}),t.on("ajax:success",function(e,t){return l=t.poll,c=0,setTimeout(o,1e3)})},window.ready.setupEndpointFormNavigation=function(e){return e.on("click","[data-nav-to]",function(t){var n;return t.preventDefault(),n=$(this).data("nav-to"),e.find('[name="nav_to"]').val(n),e.find('[type="submit"]').click()})},window.ready.tryTabValidation=function(e){var t,n;return t=$(".has-error",e),n={message:"This value is invalid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{requiredBodyField:{selector:".requiredBodyField",validators:{notEmpty:{message:"The request body is required and cannot be empty"},json:{message:"Invalid JSON. Please use http://jsonlint.com to validate the JSON."}}}}},e.on("init.form.bv",function(){return t.addClass("has-error")}).bootstrapValidator(n).on("success.form.bv",function(t){return e=$(t.target),e.data("remote")?(t.preventDefault(),!1):void 0}).on("submit",function(t){var n;return e=$(t.target),e.data("remote")&&(n=e.data("bootstrapValidator").getInvalidFields().length)?(t.preventDefault(),!1):void 0})},window.ready.setupNewModelParamTips=function(){var e,t;return t=function(){var e;return e='Provide a sample HTTP body here and click the "Guess Parameters using Sample HTTP Body" button above to add new model or form parameters',$("#http_method_example_request").popover({content:e,placement:"top",trigger:"manual"}).popover("show").focus()},e=function(){return $("#collapseSampleBody").hasClass("in")?t():$("#collapseSampleBody").one("shown.bs.collapse",t).collapse("show")},$("#parameterFields").on("change",'.parameter.body [data-field="parameter_type"]',function(){return"new_model"===$(this).val()?e():$("#http_method_example_request").popover("destroy")}),$("#guess").click(function(){return $("#http_method_example_request").val()?$("#http_method_example_request").popover("destroy"):e()}),$("#addBody").click(function(){return $("#http_method_example_request").popover("destroy"),setTimeout(function(){return $('#parameterFields .parameter.body [data-field="parameter_type"]').change()},200)})},a=function(e){var t;return t=$("#http_method_require_auth"),$.ajax({type:"GET",url:t.data("reload-url"),dataType:"json",success:function(n){var i,a,r,o,s,l,d,c,u;for($("#newAuth").blur(),o=null!=e?e:t.val(),t.empty(),c=n.collection,l=0,d=c.length;d>l;l++)u=c[l],r=u[0],s=u[1],a=u[2],i=$("<option></option>"),i.text(r).val(s).data(a),s===e&&i.prop("selected",!0),t.append(i);return $("#http_method_require_auth").multiselect("rebuild")}})},window.ready.setupNewAuthenticationReloading=function(){return $("#newAuth").one("click",function(){return window.newAuthCallback=a}),$("#http_method_require_auth").multiselect({nonSelectedText:"--- None ---"})},window.ready.setupAuthParamNameTips=function(){var e;return e=function(e){var t;return e=$.trim(e),"Authorization"===e||e.match(/^(X-)?API[_-]KEY$/i)?(t="The parameter <code>"+e+'</code> may be related to authentication. Please click on <i class="fa fa-plus"></i> in the <strong>Authentication</strong> section to create a new scheme for <code>'+e+"</code>.",new PNotify({text:t,delay:8e3})):void 0},$("#parameterFields").on("change",'[data-field="name"]',function(){return e($(this).val())}),$('#parameterFields [data-field="name"]').each(function(){return e($(this).val())})},window.ready.setupEventsForUpdatingClassDescription=function(){var e,t;return e=$("#classDescriptionDialog"),$("#editClassDescription").click(function(){return $("#classDescName").text($("#http_method_name").val()),e.modal("show")}),t=$("#saveClassDescription"),t.click(function(){var n;return n=CKEDITOR.instances.classDescriptionField.getData(),$.ajax({type:"PUT",url:t.data("url"),data:{class_description:n},success:function(){return e.modal("hide")}})})}}.call(this),function(){null==window.ready&&(window.ready={}),window.ready.ModelWizardFormValidation=function(){var e,t,n;return e=$("#new_model"),n=$(".has-error"),t={message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"model[name]":{message:"The model name is not valid",validators:{notEmpty:{message:"The model name is required and cannot be empty"},stringLength:{max:100,message:"The model name must be less than 100 characters long"},regexp:{regexp:/^[a-z0-9_]+$/i,message:"The model name must contain only letters, numbers and underscore(_)"}}},"model[description]":{message:"The description is not valid",validators:{stringLength:{max:800,message:"The description must be less than 800 characters long"}}}}},e.on("init.form.bv",function(){return n.addClass("has-error").end().each(function(){return $(this).on("click",function(){return $(this).find("span.help-block").remove()})})}).bootstrapValidator(t)},window.ready.ModelFormValidation=function(){var e,t,n;return e=$("#modelForm"),n=$(".has-error"),t={message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"model[name]":{message:"The model name is not valid",validators:{notEmpty:{message:"The model name is required and cannot be empty"},stringLength:{max:100,message:"The model name must be less than 100 characters long"},regexp:{regexp:/^[a-z0-9_]+$/i,message:"The model name must contain only letters, numbers and underscore(_)"}}},"model[description]":{message:"The description is not valid",validators:{stringLength:{max:800,message:"The description must be less than 800 characters long"}}},modelPropertyName:{selector:".modelPropertyName",message:"The property name is not valid",validators:{notEmpty:{message:"The property name is required and cannot be empty"},stringLength:{max:30,message:"The property name must be less than 30 characters long"},regexp:{regexp:/^[\w-]+$/i,message:"The property name must contain only letters, numbers, dash(-) and underscore(_)"}}},modelPropertyDescription:{selector:".modelPropertyDescription",message:"The property description is not valid",validators:{stringLength:{max:200,message:"The property description must be less than 200 characters long"}}}}},e.on("init.form.bv",function(){return n.addClass("has-error").end().each(function(){return $(this).on("click",function(){return $(this).find("span.help-block").remove()})})}).bootstrapValidator(t).on("nested:fieldAdded",function(e){var t,n,i,a;return a=e.field.find(".modelPropertyName"),$("#modelForm").bootstrapValidator("addField",a,{message:"The property name is not valid",validators:{notEmpty:{message:"The property name is required and cannot be empty"},stringLength:{max:30,message:"The property name must be less than 30 characters long"},regexp:{regexp:/^[\w-]+$/i,message:"The property name must contain only letters, numbers, dash(-) and underscore(_)"}}}),t=e.field.find(".modelPropertyDescription"),$("#modelForm").bootstrapValidator("addField",t,{message:"The property description is not valid",validators:{stringLength:{max:200,message:"The property description must be less than 200 characters long"}}}),i=e.field.find(".modelPropertyMin"),$("#modelForm").bootstrapValidator("addField",i,{message:"The minimum value is not valid",validators:{integer:{message:"The minimum value must be integer"}}}),n=e.field.find(".modelPropertyMax"),$("#modelForm").bootstrapValidator("addField",n,{message:"The maximum value is not valid",validators:{integer:{message:"The maximum value must be integer"}}})})},window.ready.ajaxModelInfo=function(e){var t;return t={},$(e).on("mouseenter",function(){var e,n,i;return e=$(this),i="/models/"+e.data("id")+"/info",e.data("loaded")?void 0:i in t?(console.log("cached ajax: "+i),n=t[i],e.popover({title:n.description,content:n.info,container:"body",trigger:"hover",placement:"left"}).popover("show").data("loaded",!0)):(console.log("request ajax: "+i),$.ajax({type:"GET",url:i,dataType:"json",cache:!0,success:function(n){return t[i]=n,e.popover({title:n.description,content:n.info,container:"body",trigger:"hover",placement:"left"}).popover("show").data("loaded",!0)}}))}).on("click",function(){var e;return e=$(this).data("id"),$(this).attr("href","/models/"+e+"/edit")})},window.ready.setupImportModelFromHtmlTable=function(){return window.ready.setupImportFromHtmlTable(function(e){return $("#json_properties").val(JSON.stringify(e.parameters))})}}.call(this),function(){null==window.ready&&(window.ready={}),window.ready.setParameterName=function(e){var t,n,i,a,r,o;return i=e.val(),n=e.find("option:selected").text(),t=e.closest(".parameter"),i?(i.match(/^\d+$/)&&t.find('[data-field="name"]').val(n),i.match(/^array_(\d+)$/)?(o=n.match(/^\[(.+)\]$/),r=o[0],a=o[1],t.find('[data-field="name"]').val(a)):void 0):void 0},window.ready.setParameterDescription=function(e){return e.on("blur",'[data-field="name"]',function(){var e,t,n;return n=$(this),e=n.closest(".parameter"),t=e.find('[data-field="description"]'),t.val().trim()?void 0:t.val(n.val())})}}.call(this),function(){var e,t,n,i;null==window.ready&&(window.ready={}),n=window.ready,t=9,e="25%",i=function(){return function(n){var i,a,r,o,s,l;return i=n.find('[name="endpoints"]'),i.length?(r=n.find("._rest_id"),a=n.find('[name="per_endpoint_price"]'),l=parseFloat(a.val()),o=n.find("._subscribeMonthly"),s=n.find("._subscribeYearly"),r.on("change",function(){var e,t;return t=$(this).val(),e=t?parseInt(r.data("endpoints-"+t),10):10,6>e&&(e=10),i.val(e),i.keyup()}),i.on("keyup change",function(){var n,i,a,r;return n=$(this).val()||0,n=parseInt(n,10),i=l*n,a=i*t,o.val("Subscribe Monthly: $"+i),r="Subscribe Yearly: $"+a,a&&e&&(r+=" ("+e+" Off)"),s.val(r)}),r.change(),o.click(function(){return n.find('[name="period"]').val("monthly")}),s.click(function(){return n.find('[name="period"]').val("yearly")})):void 0}}(this),n.setupPerEndpointPriceButtons=function(){return i($("#proForm")),i($("#premiumForm"))}}.call(this),function(){var e,t,n,i,a,r,o;i=function(){return 0!==$("#wmd-input").length?($.initPageDown(),$("#wmd-input").closest("form").on("submit",function(){var e;return e=$.trim($("#wmd-preview").html()),$("#content_html").val(e),!0})):void 0},a=function(){var e,t;return e=$("#tags"),t=e.data("url"),e.select2({multiple:!0,minimumInputLength:1,initSelection:function(e,t){var n,i;return n=[],i=e.val(),i&&(n=$.map(i.split(","),function(e){return{id:e,text:e}})),t(n)},query:function(e){return e.term?$.ajax({type:"GET",url:t,data:{term:e.term},dataType:"json",success:function(t){var n,i,a;return i=null!=(a=t.tags)?a:[],$.inArray(e.term,i)<0&&i.unshift(e.term),n=$.map(i,function(e){return{id:e,text:e}}),e.callback({results:n})}}):void 0}})},$.pageReady(".questions.new",".questions.create",".questions.edit",".questions.update",function(){return i(),a()}),o=function(e){return $(".add-comment",e).hide(),$(".comment-form",e.next(".comment-form-container")).show().find("textarea").focus()},t=function(){return $("#container").on("click",".comments-container .add-comment .add",function(e){var t;return e.preventDefault(),t=$(this).closest(".comments-container"),o(t)}).on("submit",".comment-form-container .comment-form",function(){var e;return e=$(this).find("textarea"),""===$.trim(e.val())?(e.focus(),!1):void 0}).on("ajax:success",".comment-form-container .comment-form",function(e,t){var n,i;return i=$(this).closest(".comment-form-container"),n=i.prev(".comments-container"),n.find(".comments tbody").append(t).show().find(".comment:last .timeago").timeago(),$(".add-comment",n).show(),$(".comment-form",i).hide().find("textarea").val("")})},n=function(){return $("#container").on("ajax:success",".comment .delete",function(e,t){return $("#comment_"+t.id).fadeOut()})},null==window.Questions&&(window.Questions={}),Questions.updateVote=function(e,t,n){var i;return e.data("amount",t),e.removeClass("positive negative"),t>0?e.addClass("positive"):0>t&&e.addClass("negative"),null!=n?(i=$(".vote-count",e),i.text(n),0===n?i.addClass("zero"):i.removeClass("zero")):void 0},r=function(){return $("#container").on("click",".vote a",function(e){var t,n,i,a;return e.preventDefault(),t=$(this),a=t.attr("href"),n=t.closest(".vote").data("amount"),n=t.hasClass("vote-up")?n+1:n-1,i={amount:n,votable_type:t.data("votable-type"),votable_id:t.data("votable-id")},$.ajax({type:"PUT",url:a,data:i,success:function(e){var n;return n=t.closest(".vote"),Questions.updateVote(n,e.amount,e.vote)}})})},e=function(e){return e.on("click",".unaccepted > a, .accepted > a",function(t){var n,i;return t.preventDefault(),n=$(this).parent(),i=this.href,n.hasClass("accepted")?$.ajax({url:i,type:"DELETE",dataType:"json",success:function(){return n.removeClass("accepted").addClass("unaccepted")}}):$.ajax({url:i,type:"PUT",dataType:"json",success:function(){return e.find(".accepted").removeClass("accepted").addClass("unaccepted"),n.removeClass("unaccepted").addClass("accepted")}})})},$.pageReady(".questions.show",function(){return i(),t(),n(),r(),e($("#answers"))})}.call(this),function(){null==window.ready&&(window.ready={}),window.ready.buildStatusPolling=function(){var e,t,n;return e=3e4,n=function(e,t,n,i,a){return e.fadeOut("slow"),"Failed"===n?e.attr("class","label label-danger").attr("rel","tooltip").attr("data-toggle","tooltip").attr("data-placement","bottom").attr("title",""+i).tooltip("show").html(""+n.toUpperCase()+" <span class='glyphicon glyphicon-info-sign'></span></span>"):"Succeeded"===n?e.attr("class","label label-success").html(""+n.toUpperCase()):"Building"===n&&e.attr("class","label label-warning").html(""+n.toUpperCase()),e.fadeIn("slow"),t.fadeOut("slow"),t.html(""+(a||0)),t.fadeIn("slow"),t.parent().attr("data-original-title",""+(a||0)+" REST API libraries generated")},(t=function(){return $.ajax({type:"GET",url:"/rests/"+window.restId+"/releases/last",dataType:"json",error:null,success:function(i){var a,r;return r=$("#"+i.id+" .status span"),a=$("#"+i.id+" .libraries a span"),"BUILDING"===r.text()?(n(r,a,i.status,i.status_message,i.wrapper_count),setTimeout(t,e)):void 0}})})()},window.ready.releaseFormValidation=function(){var e,t,n;return e=$("#new_release"),n=$(".has-error"),t={message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"release[version]":{message:"The version is not valid",validators:{notEmpty:{message:"The version is required and cannot be empty"},regexp:{regexp:/^\d{1,3}\.\d{1,3}\.\d{1,3}$/,message:"The version must be like e.g. 5.0.8 or eg. 12.87.101"}}},"release[release_note]":{message:"The release note is not valid",validators:{notEmpty:{message:"The release note is required and cannot be empty"}}}}},e.on("init.form.bv",function(){return n.addClass("has-error").end().each(function(){return $(this).on("click",function(){return $(this).find("span.help-block").remove()})})}).bootstrapValidator(t)},window.ready.setupSelectAllLanguagesForRelease=function(){var e,t,n,i;return n=$("#release_languages_select_all"),t=n.parent(),e=t.parent(),n.removeAttr("name"),1===e.find(":checkbox:not(:checked)").length&&n.click(),t.after("<br/>"),i=!1,e.on("click",":checkbox",function(){var t,a,r;if(!i)return t=$(this).is(":checked"),$(this).is(n)?(i=!0,t?e.find(":checkbox:not(:checked)").click():e.find(":checkbox:checked").click()):(a=n.is("checked"),r=e.find(":checkbox:not(:checked)").length,a||(r-=1),t=0===r,a!==t&&(i=!0,n.click())),i=!1,void 0})}}.call(this),function(){var e,t,n,i,a,r,o,s,l={}.hasOwnProperty;null==window.ready&&(window.ready={}),t=window.ready,window.ready.validateJSON=function(e,t,n){var i,a;null==t&&(t="Example Response"),null==n&&(n=!0),a="["+e+"]";try{JSON.parse(a)}catch(r){i=r;try{JSON.parse(e)}catch(r){return i=r,n&&alert("Invalid JSON for "+t+": "+i.message+". Please use http://jsonlint.com to validate the JSON."),!1}return!0}return!0},window.ready.removeInvalidCharactersFromQuery=function(e){var t,n;return t=e.indexOf("?"),-1===t?e:(n=e.substring(t+1),n=n.replace(/[<>\[\]{}\(\)]/g,""),e.substring(0,t)+"?"+n)},window.ready.guessClassAndMethodNameFromPath=function(e,t){var n,i,a;return a=_.chain(e.replace(/#+$/,"").split("/")).reject(function(e){return""===e}).map(function(e){return e.replace(/[\.\?].*/,"").replace(/[:$<>{}\[\]]/g,"").replace(/[^\w]+/g,"_")}).value(),n=a[0]||"Web","api"===n.toLowerCase()&&(n="Web"),n=n[0].toUpperCase()+n.substring(1),i=a[1],i||("GET"===t||"HEAD"===t?i="get":"POST"===t?i="create":"PUT"===t||"PATCH"===t?i="update":"DELETE"===t&&(i="delete")),[n,i]},window.ready.setupWizardResponseModelName=function(e,n){var i;return i=function(){var i,a,r,o,s,l;return o=!1,r=$.trim(e.val()),t.mightBeJSON(r)?(a=n.val(),o=!0):t.mightBeXML(r)&&(a=null!=(s=(null!=(l=r.match(/^<(\w+)/))?l:[])[1])?s:"",o=!0),o?(i=$("#responseModelName").show().find("input:text"),i.val()?void 0:i.val(a)):$("#responseModelName").hide()},e.keyup(i)},window.ready.ImportFormValidation=function(){return $("#postmanImportForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"rest[form_import_postman_url]":{message:"The url is not valid",validators:{uri:{message:"The url must be a valid uri"}}},"rest[form_import_postman_files][]":{message:"The file(s) are not valid",validators:{file:{extension:"json,postman_collection",message:"The selected file(s) is not valid"}}}}}).on("success.form.bv",function(e){var t;return t=$(e.target),t.data("remote")?(e.preventDefault(),!1):void 0}).on("submit",function(e){var t,n;return t=$(e.target),t.data("remote")&&(n=t.data("bootstrapValidator").getInvalidFields().length)?(e.preventDefault(),!1):void 0}),$("#alpacaImportForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"rest[form_import_doc_url]":{message:"The url is not valid",validators:{uri:{message:"The url must be a valid uri"}}},"rest[form_import_api_url]":{message:"The url is not valid",validators:{uri:{message:"The url must be a valid uri"}}},"rest[form_import_pkg_url]":{message:"The url is not valid",validators:{uri:{message:"The url must be a valid uri"}}},"rest[form_import_alpaca_files][]":{message:"The file(s) are not valid",validators:{file:{extension:"json",message:"The selected file(s) is not valid"}}}}}),$("#swaggerImportForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"rest[form_import_swagger_url]":{message:"The url is not valid",validators:{uri:{message:"The url must be a valid uri"}}},"rest[form_import_swagger_files][]":{message:"The file(s) are not valid",validators:{file:{extension:"json,yaml,yml",message:"Please upload files with extension: .json, .yaml or .yml"}}}}}).on("success.form.bv",function(e){var t;return t=$(e.target),t.data("remote")?(e.preventDefault(),!1):void 0}).on("submit",function(e){var t,n;return t=$(e.target),t.data("remote")&&(n=t.data("bootstrapValidator").getInvalidFields().length)?(e.preventDefault(),!1):void 0}),$("#swagger2ImportForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"rest[form_import_swagger_url]":{message:"The url is not valid",validators:{uri:{message:"The url must be a valid uri"}}},"rest[form_import_swagger_files][]":{message:"The file(s) are not valid",validators:{file:{extension:"json,yaml,yml",message:"Please upload files with extension: .json, .yaml or .yml"}}}}}).on("success.form.bv",function(e){var t;return t=$(e.target),t.data("remote")?(e.preventDefault(),!1):void 0}).on("submit",function(e){var t,n;return t=$(e.target),t.data("remote")&&(n=t.data("bootstrapValidator").getInvalidFields().length)?(e.preventDefault(),!1):void 0}),$("#3sImportForm").bootstrapValidator({message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"rest[form_import_3s_url]":{message:"The url is not valid",validators:{uri:{message:"The url must be a valid uri"}}},"rest[form_import_s3_files][]":{message:"The file(s) are not valid",validators:{file:{extension:"json",message:"The selected file(s) is not valid"}}}}}),$("#iodocsImportForm").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"rest[form_import_iodocs_apiconfig_url]":{validators:{uri:{message:"The url must be a valid uri"}}},"rest[form_import_iodocs_files][]":{validators:{file:{extension:"json,iodoc",message:"The selected file(s) must be json format"}}}}}),$("#blueprintImportForm").bootstrapValidator({feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"rest[form_import_blueprint_files][]":{validators:{file:{extension:"md,markdown",message:"The selected file(s) must be markdown format"}}}}}).on("success.form.bv",function(e){var t;return t=$(e.target),t.data("remote")?(e.preventDefault(),!1):void 0}).on("submit",function(e){var t,n;return t=$(e.target),t.data("remote")&&(n=t.data("bootstrapValidator").getInvalidFields().length)?(e.preventDefault(),!1):void 0})},window.ready.restWizardBasisFormValidation=function(){var e,n,i,a,r;return e=$("#new_endpoint"),n=$(".has-error",e),a=t.authSettingValidationOptions,r={message:"This value is not valid",feedbackIcons:{valid:"glyphicon glyphicon-ok",invalid:"glyphicon glyphicon-remove",validating:"glyphicon glyphicon-refresh"},fields:{"rest[form_url]":{message:"The endpoint url is not valid",trigger:"blur",validators:{notEmpty:{message:"The endpoint url is required and cannot be empty"},uri:{message:"The endpoint url must be a valid uri"}}},"rest[base_url]":{message:"The base url is not valid",trigger:"blur",validators:{notEmpty:{message:"The base url is required and cannot be empty"},uri:{message:"The base url must be a valid uri"}}},"rest[module_name]":{message:"The module name is not valid",validators:{notEmpty:{message:"The module name is required and cannot be empty"},regexp:{regexp:/^[a-zA-Z][a-zA-Z0-9]*$/i,message:"The module name must start with letter and contains only letters or numbers"},stringLength:{message:"The module name must be at most characters long"}}},"rest[form_method]":{message:"The method name is not valid",validators:{notEmpty:{message:"The method name is requied and cannot be empty"},regexp:{regexp:/^[a-z_]\w*$/i,message:"The method name must start with letter and contains only letters or numbers"}}},"rest[form_example_response]":{message:"The sample response is not valid",validators:{json:{message:"Invalid JSON. Please use http://jsonlint.com to validate the JSON."}}},"rest[auth_settings_attributes][0][name]":a.name,"rest[auth_settings_attributes][0][description]":a.description,"rest[auth_settings_attributes][0][keyname]":a.keyname,"rest[auth_settings_attributes][0][implicit_login_url]":a.implicit_login_url,"rest[auth_settings_attributes][0][implicit_token_name]":a.implicit_token_name,"rest[auth_settings_attributes][0][authcode_req_url]":a.authcode_req_url,"rest[auth_settings_attributes][0][authcode_client_id_name]":a.authcode_client_id_name,"rest[auth_settings_attributes][0][authcode_client_secret_name]":a.authcode_client_secret_name,"rest[auth_settings_attributes][0][authcode_url]":a.authcode_url,"rest[auth_settings_attributes][0][authcode_token_name]":a.authcode_token_name,oauthScopeName:a.oauth_scope_name,oauthScopeDescription:a.oauth_scope_description}},e.on("init.form.bv",function(){return n.addClass("has-error")}).bootstrapValidator(r),i=$("#scopesContainer"),i.on("nested:fieldAdded",function(e){return i.bootstrapValidator("addField",e.field.find(".oauthScopeName"),a.oauth_scope_name),i.bootstrapValidator("addField",e.field.find(".oauthScopeDescription"),a.oauth_scope_description)})},window.ready.setupLinkAnchorForBootstrapDoc=function(){return $("#bootstrap_doc").find("h1[id],h2[id],h3[id]").each(function(e,t){var n,i;return n=$(t),i=$('<a class="anchor"><i class="fa fa-link"></i></a>'),i.attr("href","#"+n.attr("id")),n.addClass("has-anchor").prepend(i)})},window.ready.cachedBootstrapPolling=function(e,t){var n,i,a,r,o,s,l,d,c,u;return u=0,l=60,o=5e3,c=Date.now(),s=0,r=3e5,i=$("#releaseTabs"),n=$('<div class="spinner-message" style="position: absolute; width: auto; z-index: 2000000000; left: 22%; top: 60%;"> <p>Please wait while the documentation is being generated in the background and it should not take more than 15 seconds.</p></div>'),d=(new Spinner).spin($("body")[0]),n.insertAfter($(".spinner")),(a=function(){return s=Date.now(),u+=1,$("#bootstrap_doc").load(""+e,function(){var e,p,h;return e=$("#bootstrap_doc"),$.trim(e.html())?(window.ready.initPage(e),hljs.initHighlighting(),window.ready.setupLanguageTabs(),window.ready.setupLinkAnchorForBootstrapDoc(),window.ready.refreshScrollspyOnTabClick(),window.ready.refreshScrollspyOnJqueryMoreClick(),$("pre").wrap('<div class="zeroclipboard"></div>'),$.getScript(""+t).done(function(){var t,a;return d.stop(),i.removeClass("hide"),e.removeClass("hide"),n.hide(),t=window.location.hash,"#"===t[0]&&(a=$(t).offset(),a&&window.scrollTo(a.left,a.top)),$("body").scrollspy("refresh")})):(h=l>u,p=r>=s-c,h&&p?setTimeout(function(){return a()},o):alert("It seems like there's an issue generating the documentation preview at the moment. Please try again in a few minutes. If the issue persists, please kindly report the issue to support@restunited.com."))})})()},window.ready.pollingImportStatus=function(e){var t,n,i,a,r;return r=0,i=19,n=5e3,a=new Spinner({width:3,radius:5,top:"50%",left:"5%"}),e.on("click",".import-form-submit",function(t){return t.preventDefault(),r=0,e.submit(),a.spin(e.find(".import-spinner")[0]),e.find(".import-form-submit").attr("disabled",!0)}).on("ajax:success",function(e,n){return t(n.token),!1}).on("ajax:error",function(){return a.stop(),e.find(".import-form-submit").attr("disabled",!1),alert("Our server seems busy at the moment. Please try again after reloading the page. If the issue persists, please kindly report to support@restunited.com"),!1}),t=function(o){return r+=1,$.ajax({type:"GET",url:"/rests/import/cached_import?token="+o,dataType:"json",error:null,success:function(s){var l,d,c,u;return s?(c=s.result,c?(a.stop(),e.find(".import-form-submit").attr("disabled",!1),$("#importResult").text("Import Succeeded"),$("#importModal .alert").hide(),$.trim(s.message)?(u="<b>REST API definition was partially imported with warning.</b><br> <b>Please review the warnings below and go to the 'Endpoint' tab to review the imported endpoint(s).</b><br><br>",u+='<h4><i class="fa fa-exclamation-triangle"></i> Warning!</h4>',u+=s.message,$("#importWarningMessage").html(u).show()):(d="<b><i class='fa fa-thumbs-up'></i> REST API definition was imported successfully.</b><br> <b>Please go to 'Endpoint' tab to review the imported endpoints.</b>",$("#importSuccessMessage").html(d).show()),$("#importModalButton").click(function(){return window.location.href="/rests/"+c.id+"/http_methods"}),$("#importModalButton").show(),$("#importModalCloseButton").hide(),$("#importModal").modal("show")):(l=s.message||"Error importing REST",a.stop(),e.find(".import-form-submit").attr("disabled",!1),$("#importResult").html("Import Failed"),$("#importModal .alert").hide(),$("#importErrorMessage").html(l).show(),$("#importModalCloseButton").show(),$("#importModalButton").hide(),$("#importModal").modal("show"))):i>r?setTimeout(function(){return t(o)},n):(a.stop(),e.find(".import-form-submit").attr("disabled",!1),alert("Our server seems busy at the moment. Please try again after reloading the page. If the issue persists, please kindly report to support@restunited.com"))}})}},e=function(e){return $(e).closest(".form-group")[0]},i=function(){var t,n,i,a;return n=introJs(),i=[],t='<a href="https://github.com/HackerNews/API#users" target="_blank">HackerNews#Users</a>',$("#rest_form_http_method_GET").parent().click(),a="https://hacker-news.firebaseio.com/v0/user/:id.json",i.push({element:e("#rest_form_url"),intro:"In this tutorial, we will enter one endpoint for HackerNews API - "+t+". To begin, we enter the full URL <code>"+a+"</code> for the endpoint. <b>Note that :id is a variable in the URL.</b>"}),$("#rest_form_url").val(a).change(),a="https://hacker-news.firebaseio.com/v0",i.push({element:e("#rest_base_url"),intro:"Base URL, which usually includes the version path (e.g. v0), is automatically determined correctly in this case."}),$("#rest_base_url").val(a),a="HackerNews",i.push({element:e("#rest_module_name"),intro:"Package/Module name is usually the name of the product/company. We enter <code>"+a+"</code> in this case."}),$("#rest_module_name").val(a),a="get",i.push({element:e("#rest_form_method"),intro:"For the method name, enter <code>"+a+"</code> so that function call looks like this: <code>HakcerNews::User->get()</code>."}),$("#rest_form_method").val(a),a='{\n  "about" : "This is a test",\n  "created" : 1173923446,\n  "delay" : 0,\n  "id" : "jl",\n  "karma" : 2937,\n  "submitted" : [ 8265435, 8168423, 8090946, 8090326 ]\n}',i.push({element:e("#rest_form_example_response"),intro:"We need to provide an exmaple of the JSON response from the endpoint so we enter <pre>"+a+"</pre>"}),$("#rest_form_example_response").val(a),a="User",i.push({element:e("#rest_form_response_model_name"),intro:"Given that the response is a model (JSON), we need to provide a name for the model. In this case, enter <code>"+a+"</code> as the name of the response model"}),$("#rest_form_response_model_name").val(a),$("#responseModelName").show(),i.push({element:e("#rest_form_require_auth"),intro:"Since this endpoint does not require authentication, there's no need to change the authentication setting"}),$("#rest_form_require_auth").prop("checked")&&$("#rest_form_require_auth").click(),i.push({element:"#next",intro:'Click "Next" to proceed to the next step',position:"top"}),n.setOptions({steps:i,exitOnOverlayClick:!1,showStepNumbers:!1}),n.start(),$("#new_endpoint").bootstrapValidator("resetForm").find("[name=tutorial]").val("true")},window.ready.setupWizardTutorialForBasicStep=function(){return $("#startTutorial").click(function(e){return e.preventDefault(),i()})},r=function(){var t,n,i,a;return n=introJs(),a=[],t='<a href="https://github.com/HackerNews/API#users" target="_blank">HackerNews#Users</a>',a.push({element:e("#http_method_synopsis"),intro:'In step 2 "Endpoint Request", we can enter more parameters, if needed.<br>For this tutorial, we will enter the description of the endpoint, which will be shown in the documentation',position:"left"}),$("#http_method_synopsis").val("Get HackerNews user's profile"),i=$("#collapseParameters").closest(".panel")[0],a.push({element:i,intro:'For the parameter "id" in the URL, we provide the sample value <code>norvig</code> to make the documentation and code sample easier to follow'}),n.setOptions({steps:a,exitOnOverlayClick:!1,showStepNumbers:!1}),n.start()},window.ready.setupWizardTutorialForRequestStep=function(){return r()},o=function(){var t,n,i;return n=introJs(),i=[],t='<a href="https://github.com/HackerNews/API#users" target="_blank">HackerNews#Users</a>',i.push({element:e("#http_method_example_response"),intro:"Step 3 is all about the response from the endpoint. As we have already provided the response in step 1, we will just enter a description of the response, if needed, or proceed to the next step."}),n.setOptions({steps:i,exitOnOverlayClick:!1,showStepNumbers:!1,showBullets:!1}),n.start()
},window.ready.setupWizardTutorialForResponseStep=function(){return o()},s=function(){var e,t,n;return e=introJs(),n=[],t=$("#collapseParameters").closest(".panel")[0],n.push({element:t,intro:'Step 4 is OPTIONAL. We can easily test and verify the correctness of the endpoint by clicking on "Test" or proceed to the next step.',position:"right"}),e.setOptions({steps:n,exitOnOverlayClick:!1,showStepNumbers:!1,showBullets:!1}),e.start()},window.ready.setupWizardTutorialForTestStep=function(){return s()},a=function(){var e,t;return e=introJs(),t=[],t.push({element:".release_languages",intro:"In the last step, we choose the programming languages for generating the SDKs. In this tutorial, We will only select Java, Ruby, PHP and Python. Click on 'Release SDK' and wait for the SDK generation to finish.",position:"right"}),e.setOptions({steps:t,exitOnOverlayClick:!1,showStepNumbers:!1,showBullets:!1}),e.start()},window.ready.setupWizardTutorialForReleaseStep=function(){return a()},window.ready.setupPricingPlanButtons=function(){var e;return e=$("#planDialog"),$("a._paid_plan_details").on("click",function(){return $.ajax({type:"GET",url:$(this).data("url"),dataType:"json",success:function(t){var n,i,a;if(t.error)return new PNotify({type:"error",text:t.error,hide:!1});a=t.data;for(n in a)l.call(a,n)&&(i=a[n],e.find("._"+n).text(i));return e.find("._change_endpoints").attr("href",t.change_endpoints_url),e.find("._cancel").attr("href",t.cancel_url),e.modal("show")}})})},n=function(e){var t,n,i,a;return n=3e5,t=1e4,i=new Date,a=function(){return $.ajax({type:"GET",url:e,dataType:"json",success:function(e){return e?(PNotify.removeAll(),e.success&&new PNotify({type:"success",text:e.success,hide:!1}),e.warning&&new PNotify({type:"notice",text:e.warning,hide:!1}),e.notice&&new PNotify({type:"notice",text:e.notice,hide:!1}),e.error&&new PNotify({type:"error",text:e.error,hide:!1}),e.redirect?setTimeout(function(){return window.location.href=e.redirect},3e3):void 0):new Date-i>n?(PNotify.removeAll(),new PNotify({type:"error",text:"No response from server after 5 minutes, please try again",hide:!1})):setTimeout(a,t)}})},new PNotify({type:"info",text:"Reimporting... More info will be shown once it is completed",hide:!1}),setTimeout(a,5e3)},window.ready.setupReimportAndReleaseButtons=function(){return $(".reimport-and-release").on("ajax:success",function(e,t){return t.error?new PNotify({type:"error",text:t.error,hide:!1}):n(t.url)})}}.call(this),function(e){var t=function(t,n){t=e(t);var i=this,a=e.extend({},e.fn.bootstrapWizard.defaults,n),r=null,o=null;this.rebindClick=function(e,t){e.unbind("click",t).bind("click",t)},this.fixNavigationButtons=function(){return r.length||(o.find("a:first").tab("show"),r=o.find('li:has([data-toggle="tab"]):first')),e(a.previousSelector,t).toggleClass("disabled",i.firstIndex()>=i.currentIndex()),e(a.nextSelector,t).toggleClass("disabled",i.currentIndex()>=i.navigationLength()),i.rebindClick(e(a.nextSelector,t),i.next),i.rebindClick(e(a.previousSelector,t),i.previous),i.rebindClick(e(a.lastSelector,t),i.last),i.rebindClick(e(a.firstSelector,t),i.first),a.onTabShow&&"function"==typeof a.onTabShow&&!1===a.onTabShow(r,o,i.currentIndex())?!1:void 0},this.next=function(){return t.hasClass("last")||a.onNext&&"function"==typeof a.onNext&&!1===a.onNext(r,o,i.nextIndex())?!1:($index=i.nextIndex(),$index>i.navigationLength()||o.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"),void 0)},this.previous=function(){return t.hasClass("first")||a.onPrevious&&"function"==typeof a.onPrevious&&!1===a.onPrevious(r,o,i.previousIndex())?!1:($index=i.previousIndex(),0>$index||o.find('li:has([data-toggle="tab"]):eq('+$index+") a").tab("show"),void 0)},this.first=function(){return a.onFirst&&"function"==typeof a.onFirst&&!1===a.onFirst(r,o,i.firstIndex())||t.hasClass("disabled")?!1:(o.find('li:has([data-toggle="tab"]):eq(0) a').tab("show"),void 0)},this.last=function(){return a.onLast&&"function"==typeof a.onLast&&!1===a.onLast(r,o,i.lastIndex())||t.hasClass("disabled")?!1:(o.find('li:has([data-toggle="tab"]):eq('+i.navigationLength()+") a").tab("show"),void 0)},this.currentIndex=function(){return o.find('li:has([data-toggle="tab"])').index(r)},this.firstIndex=function(){return 0},this.lastIndex=function(){return i.navigationLength()},this.getIndex=function(e){return o.find('li:has([data-toggle="tab"])').index(e)},this.nextIndex=function(){return o.find('li:has([data-toggle="tab"])').index(r)+1},this.previousIndex=function(){return o.find('li:has([data-toggle="tab"])').index(r)-1},this.navigationLength=function(){return o.find('li:has([data-toggle="tab"])').length-1},this.activeTab=function(){return r},this.nextTab=function(){return o.find('li:has([data-toggle="tab"]):eq('+(i.currentIndex()+1)+")").length?o.find('li:has([data-toggle="tab"]):eq('+(i.currentIndex()+1)+")"):null},this.previousTab=function(){return 0>=i.currentIndex()?null:o.find('li:has([data-toggle="tab"]):eq('+parseInt(i.currentIndex()-1)+")")},this.show=function(e){return t.find('li:has([data-toggle="tab"]):eq('+e+") a").tab("show")},this.disable=function(e){o.find('li:has([data-toggle="tab"]):eq('+e+")").addClass("disabled")},this.enable=function(e){o.find('li:has([data-toggle="tab"]):eq('+e+")").removeClass("disabled")},this.hide=function(e){o.find('li:has([data-toggle="tab"]):eq('+e+")").hide()},this.display=function(e){o.find('li:has([data-toggle="tab"]):eq('+e+")").show()},this.remove=function(t){var n="undefined"!=typeof t[1]?t[1]:!1;t=o.find('li:has([data-toggle="tab"]):eq('+t[0]+")"),n&&(n=t.find("a").attr("href"),e(n).remove()),t.remove()},o=t.find("ul:first",t),r=o.find('li:has([data-toggle="tab"]).active',t),o.hasClass(a.tabClass)||o.addClass(a.tabClass),a.onInit&&"function"==typeof a.onInit&&a.onInit(r,o,0),a.onShow&&"function"==typeof a.onShow&&a.onShow(r,o,i.nextIndex()),i.fixNavigationButtons(),e('a[data-toggle="tab"]',o).on("click",function(t){return t=o.find('li:has([data-toggle="tab"])').index(e(t.currentTarget).parent('li:has([data-toggle="tab"])')),a.onTabClick&&"function"==typeof a.onTabClick&&!1===a.onTabClick(r,o,i.currentIndex(),t)?!1:void 0}),e('a[data-toggle="tab"]',o).on("shown shown.bs.tab",function(t){return $element=e(t.target).parent(),t=o.find('li:has([data-toggle="tab"])').index($element),$element.hasClass("disabled")||a.onTabChange&&"function"==typeof a.onTabChange&&!1===a.onTabChange(r,o,i.currentIndex(),t)?!1:(r=$element,i.fixNavigationButtons(),void 0)})};e.fn.bootstrapWizard=function(n){if("string"==typeof n){var i=Array.prototype.slice.call(arguments,1);return 1===i.length&&i.toString(),this.data("bootstrapWizard")[n](i)}return this.each(function(i){if(i=e(this),!i.data("bootstrapWizard")){var a=new t(i,n);i.data("bootstrapWizard",a)}})},e.fn.bootstrapWizard.defaults={tabClass:"nav nav-pills",nextSelector:".wizard li.next",previousSelector:".wizard li.previous",firstSelector:".wizard li.first",lastSelector:".wizard li.last",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onTabChange:null,onTabClick:null,onTabShow:null}}(jQuery),function(){}.call(this),function(){var e;null==window.ready&&(window.ready={}),e=window.ready,e.setConfirmationDialog=function(){return window.onbeforeunload=function(){return"There seems to be some unsaved changes on this page."}},e.unsetConfirmationDialog=function(){return window.onbeforeunload=void 0},e.setupCodePreview=function(e,t,n,i){var a,r;return null==i&&(i=null),r=function(){var a,r,o,s,l,d,c,u,p;return o=t.val()||"Class",o=o.charAt(0).toUpperCase()+o.slice(1),"api"===o.toLowerCase()&&(o="Web"),c=n.val()||"method",u=e.data("params")||"",a=""+o+"Api",r=i?i.val()||"":e.data("base-url")||"",d=r.match(/^https?:\/\/([^/?]+)/),d?(l=d[1],p=_.map(l.split(".").reverse(),function(e){return e=e.replace(/[^\w]+/g,"_"),e.match(/^\d/)&&(e="_"+e),e}).join("."),p.match(/\.api$/)||(p=""+p+".api")):p="api",s="// import the API package\nimport "+p+"."+a+";\n\n// create an instance of the API\n"+a+" api = new "+a+'();\n// call the method of the endpoint\n// order of function argument is based on the order of parameters defined in "Request Definition"\napi.'+c+"("+u+");",s=$.trim(s),e.text(s),e.removeClass("hljs"),hljs.highlightBlock(e[0])},a=_.debounce(r,500),t.change(a),n.keyup(a).change(a),i&&i.keyup(a),r()},e.toggleTypeInfo=function(e,t){var n;return(n=e.val())?n.match(/^(array_)?string$/)?(t.show(),$(".boolean,.datetime,.minimum,.maximum",t).hide(),$(".enum",t).fadeIn()):n.match(/^(array_)?boolean$/)?(t.show(),$(".enum,.datetime,.minimum,.maximum",t).hide(),$(".boolean",t).fadeIn()):n.match(/^(array_)?date(-time)?$/)?(t.show(),$(".enum,.boolean,.minimum,.maximum",t).hide(),$(".datetime",t).fadeIn()):n.match(/^(array_)?(int32|int64|float|double)$/)?(t.show(),$(".enum,.boolean,.datetime",t).hide(),$(".minimum,.maximum",t).fadeIn()):t.hide():void 0},e.mightBeJSON=function(e){return null!=e?e.match(/^(\[\s*)?\{/):void 0},e.mightBeXML=function(e){return null!=e?e.match(/^</):void 0},e.mightBeFormEncoded=function(e){return null!=e?e.match(/^[^ =&]+=[^ =&]*(&[^ =&]+=[^ =&]*)*$/):void 0},e.camelize=function(e){var t;return e=e.replace(/[^\w]+/g,"_").replace(/_+/,"_"),t=_.map(e.split("_"),function(e){return e?e[0].toUpperCase()+e.substring(1):""}),t.join("")},e.onUserInputted=function(){return $(this).data("user-inputted",!0)},e.isUserInputted=function(e){return!_.isEmpty(e.val())&&e.data("user-inputted")}}.call(this),function(){var e;null==window.ready&&(window.ready={}),window.ready.setupLanguageTabs=function(){return $("body").on("click",".language-tabs a[data-lang]",function(){var e,t;return e=$(this).data("lang"),$('a[data-lang="'+e+'"]').tab("show"),t=$(this).closest(".language-tabs").prev().offset(),window.scrollTo(t.left,t.top),$("body").scrollspy("refresh")})},window.ready.refreshScrollspyOnTabClick=function(){return $("body").on("shown.bs.tab",'a[data-toggle="tab"]',function(){return $(this).closest("ul").hasClass("skip-refresh-scrollspy")?void 0:$("body").scrollspy("refresh")})},window.ready.refreshScrollspyOnJqueryMoreClick=function(){return $(".more-link").on("click",function(){return $("body").scrollspy("refresh")})},e=function(t,n){var i;return 200>=t&&80>=n?[t,n]:n>80?(i=(n-80)/n,e((1-i)*t,80)):t>200?(i=(t-200)/t,e(200,(1-i)*n)):void 0},window.ready.resizeLogo=e}.call(this),$.fn.dataTable&&$.extend($.fn.dataTable.defaults,{sPaginationType:"bootstrap",aaSorting:[]}),window.PNotify&&(PNotify.prototype.options.delay=5e3,PNotify.prototype.options.icon=!1,PNotify.prototype.options.styling="bootstrap3"),$.more&&$.more.setDefaults({length:70,moreText:"[...]",lessText:"&nbsp;x&nbsp;",ellipsisText:""}),window.ready||(window.ready={}),window.ready.initPage=function(e){e.find("[rel=tooltip],[data-toggle=tooltip]").tooltip({container:"body"}),e.find(".dropdown-toggle").dropdown(),e.find(".bootstrap-tabs a").click(function(e){e.preventDefault(),$(this).tab("show")}),e.find("abbr.timeago").timeago(),e.find("pre > code").each(function(e,t){hljs.highlightBlock(t)}),e.find(".datatable").dataTable(),_.each(e.find(".js-switch"),function(e){new Switchery(e)}),e.find(".more-text").more().find(".more-link").addClass("btn btn-xs btn-default").attr("title","Toggle show more")},$(document).ready(function(){window.ready.initPage($("body"))}),$(document).ajaxError(function(e,t){401===t.status&&(window.location="/users/sign_in")});